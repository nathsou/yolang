import{c as tn,a as on,j as A,r as To,m as dn,g as Ue,b as nr,d as v,z as Oe,k as Lt,e as zr,f as dt,t as Ie,h as Go,i as Br,l as Mn,n as Pr,o as he,_ as m,p as Ee,s as J,v as ce,q as rn,u as qr,w as go,x as ho,y as er,A as jr,B as Zr,C as Sn,D as Wr,E as tr,F as hn,G as Eo,H as wo,I as Jr,J as rr,K as Ao,L as mo,M as po,N as So,O as bo,P as ko,Q as Do,R as Kr,S as No,T as Yr,U as $n,V as Fo,W as ur,X as Hr,Y as Ro,Z as Hn,$ as $o,a0 as Lo,a1 as _e,a2 as Qr,a3 as Ct,a4 as Ir,a5 as yr,a6 as Mt,a7 as Co,a8 as Xt,a9 as Mo,aa as Xo,ab as Uo,ac as N,ad as Oo,ae as Vo,af as xr,ag as ar,ah as zo,ai as nu,aj as Bo,ak as Po,al as K,am as qo,an as Tt,ao as or,ap as Gt,aq as ye,ar as eu,as as jo,at as gt,au as tu,av as Zo,aw as Wo,ax as Ut,ay as Jo,az as Ko}from"./vendor.783f00e4.js";const Yo=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))u(a);new MutationObserver(a=>{for(const t of a)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const t={};return a.integrity&&(t.integrity=a.integrity),a.referrerpolicy&&(t.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?t.credentials="include":a.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(a){if(a.ep)return;a.ep=!0;const t=r(a);fetch(a.href,t)}};Yo();function _n(n){var e=[],r=function(u){for(;;){var a=u,t=a&127,o=a>>>7;if(o!==0){e.push(t|128),u=o;continue}e.push(t);return}};return r(n),e}function Ot(n){var e=[],r=function(u){for(;;){var a=u,t=a&127,o=a>>7;if(o===0&&(t&64)==0||o===-1&&(t&64)!=0){e.push(t);return}e.push(t|128),u=o}};return r(n|0),e}function De(n){return tn(_n(n.length),n)}function On(n){return tn(_n(n.length),on(n))}var Ho={encode:De,encodeMany:On},Qo=Ot,Io={encode:Qo},yo=Ot,xo={encode:yo};function ru(n){var e=new DataView(new ArrayBuffer(4));return e.setFloat32(0,n,1),[e.getUint8(0),e.getUint8(1),e.getUint8(2),e.getUint8(3)]}var ni={encode:ru};function uu(n){var e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,n,1),[e.getUint8(0),e.getUint8(1),e.getUint8(2),e.getUint8(3),e.getUint8(4),e.getUint8(5),e.getUint8(6),e.getUint8(7)]}var ei={encode:uu};function ti(n){return n}function Qn(n,e){return tn([n],De(e))}function In(n){var e;switch(n){case 0:e="custom";break;case 1:e="type";break;case 2:e="import";break;case 3:e="function";break;case 4:e="table";break;case 5:e="memory";break;case 6:e="global";break;case 7:e="export";break;case 8:e="start";break;case 9:e="element";break;case 10:e="code";break;case 11:e="data";break}return"["+e+"]"}var ri={id:ti,encode:Qn,show:In};function xe(n){switch(n){case 0:return 127;case 1:return 126;case 2:return 125;case 3:return 124}}function nt(n){switch(n){case 0:return"i32";case 1:return"i64";case 2:return"f32";case 3:return"f64"}}var ui={encode:xe,show:nt};function au(n){return typeof n=="number"?[64]:n.TAG===0?[xe(n._0)]:_n(n._0)}function ai(n){return typeof n=="number"?"void":n.TAG===0?nt(n._0):"type "+String(n._0)}var oi={encode:au,show:ai};function ir(n){if(typeof n=="number")switch(n){case 0:return[[5],"else"];case 1:return[[11],"end"];case 2:return[[15],"return"];case 3:return[[26],"drop"];case 4:return[[106],"i32.add"];case 5:return[[107],"i32.sub"];case 6:return[[108],"i32.mul"];case 7:return[[110],"i32.div_s"];case 8:return[[109],"i32.div_u"];case 9:return[[69],"i32.eqz"];case 10:return[[70],"i32.eq"];case 11:return[[81],"i64.eq"];case 12:return[[91],"f32.eq"];case 13:return[[97],"f64.eq"];case 14:return[[71],"i32.ne"];case 15:return[[82],"i64.ne"];case 16:return[[92],"f32.ne"];case 17:return[[98],"f64.ne"];case 18:return[[76],"i32.le_s"];case 19:return[[77],"i32.le_u"];case 20:return[[87],"i64.le_s"];case 21:return[[88],"i64.le_u"];case 22:return[[95],"f32.le"];case 23:return[[101],"f64.le"];case 24:return[[78],"i32.ge_s"];case 25:return[[79],"i32.ge_u"];case 26:return[[89],"i64.ge_s"];case 27:return[[90],"i64.ge_u"];case 28:return[[96],"f32.ge"];case 29:return[[102],"f64.ge"];case 30:return[[72],"i32.lt_s"];case 31:return[[73],"i32.lt_u"];case 32:return[[83],"i64.lt_s"];case 33:return[[84],"i64.lt_u"];case 34:return[[93],"f32.lt"];case 35:return[[99],"f64.lt"];case 36:return[[74],"i32.gt_s"];case 37:return[[75],"i32.gt_u"];case 38:return[[85],"i64.gt_s"];case 39:return[[86],"i64.gt_u"];case 40:return[[94],"f32.gt"];case 41:return[[100],"f64.gt"];case 42:return[[111],"i32.rem_s"];case 43:return[[112],"i32.rem_u"];case 44:return[[113],"i32.and"];case 45:return[[114],"i32.or"];case 46:return[[116],"i32.shl"];case 47:return[[117],"i32.shr_s"];case 48:return[[118],"i32.shr_u"]}else switch(n.TAG|0){case 0:return[[65],"i32.const "+String(n._0)];case 1:return[[66],"i64.const "+String(n._0)];case 2:return[[67],"i64.const "+String(n._0)];case 3:return[[68],"i64.const "+String(n._0)];case 4:return[[4],"if"];case 5:return[[13],"br_if "+String(n._0)];case 6:return[[12],"br "+String(n._0)];case 7:return[[2],"block"];case 8:return[[3],"loop"];case 9:return[[35],"global.get "+String(n._0)];case 10:return[[36],"global.set "+String(n._0)];case 11:return[[32],"local.get "+String(n._0)];case 12:return[[33],"local.set "+String(n._0)];case 13:return[[34],"local.tee "+String(n._0)];case 14:return[[16],"call "+String(n._0)];case 15:return[[17],"call_indirect [typeIndex="+String(n._0)+", tableIndex="+String(n._1)+"]"];case 16:return[[40],"i32.load (alignment="+String(n._0)+", offset="+String(n._1)+")"];case 17:return[[54],"i32.store (alignment="+String(n._0)+", offset="+String(n._1)+")"];case 18:return[[252,8],"memory.init "+String(n._0)];case 19:return[[252,9],"data.drop "+String(n._0)]}}function yn(n){return ir(n)[0]}function ou(n){if(typeof n=="number")switch(n){case 0:case 1:return-1;default:return 0}else switch(n.TAG|0){case 4:case 7:case 8:return 1;default:return 0}}function Vt(n,e,r,u){var a=n!==void 0?n:{contents:0},t=ir(e),o=ou(e),i=A(To(0,a.contents+(o<0?o:0)|0),"  ",function(l){return""});a.contents=a.contents+o|0,e===0&&(a.contents=a.contents+1|0);var c,_=0;if(typeof e=="number")c="";else switch(e.TAG|0){case 11:case 12:case 13:_=1;break;case 14:c="<"+dn(Ue(r,e._0),"??",function(l){return l})+">";break;default:c=""}return _===1&&(c="<"+dn(Ue(u,e._0),"??",function(l){return l})+">"),i+t[1]+" "+c}function fe(n){var e=0;if(typeof n=="number")return yn(n);switch(n.TAG|0){case 0:case 1:return tn(yn(n),Ot(n._0));case 2:return tn(yn(n),ru(n._0));case 3:return tn(yn(n),uu(n._0));case 4:case 7:case 8:e=1;break;case 9:case 10:case 11:case 12:case 13:e=2;break;case 15:return on([yn(n),_n(n._0),_n(n._1)]);case 16:case 17:e=3;break;case 18:return on([yn(n),_n(n._0),[0]]);case 5:case 6:case 14:case 19:return tn(yn(n),_n(n._0))}switch(e){case 1:return tn(yn(n),au(n._0));case 2:return tn(yn(n),_n(n._0));case 3:return on([yn(n),_n(n._0),_n(n._1)])}}var ii={info:ir,opcode:yn,identationDelta:ou,show:Vt,encode:fe};function ci(n,e){return{_0:n,_1:e}}var _i=[],fi=[],si={_0:_i,_1:fi};function iu(n){return on([[96],De(v(n._0,xe)),De(v(n._1,xe))])}function cu(n){var e=n._1,r=n._0,u=A(r,", ",nt),a=A(e,", ",nt);if(r.length===1){var t=e.length;if(t===1)return u+" -> "+a;if(t===0)return u+" -> ()"}var o=e.length;return o!==1?o!==0?"("+u+") -> ("+a+")":"("+u+") -> ()":"("+u+") -> "+a}var li={funcTypeCode:96,make:ci,empty:si,encode:iu,show:cu};function vi(n){var e=function(u,a){for(;;){var t=a,o=u;if(!o)return t;var i=o.tl,c=o.hd,_=c[1],l=c[0];if(t){var h=t.tl,b=t.hd,V=b[1],T=b[0];if(Mn(_,V)){a={hd:[{hd:l,tl:T},V],tl:h},u=i;continue}a={hd:[{hd:l,tl:0},_],tl:{hd:[T,V],tl:h}},u=i;continue}a={hd:[{hd:l,tl:0},_],tl:0},u=i}},r=zr(e(dt(n),0));return Ie(Go(r,function(u){return[Pr(Ie(u[0])),u[1]]}))}function _u(n){return tn(_n(n[0].length),[xe(n[1])])}function fu(n){return"local ["+A(n[0],", ",function(e){return e})+"] "+nt(n[1])}var di={fromTypes:vi,encode:_u,show:fu};function Ti(n,e){return[n,e]}function su(n){var e=On(v(n[0],_u)),r=on(v(n[1],fe));return on([[e.length+r.length|0],e,r])}function lu(n,e,r){var u=n[0],a={contents:1},t=Br(r._0,function(_,l){return"param["+String(_)+"]"}),o=tn(t,on(v(u,function(_){return _[0]}))),i=A(u,`
`,fu),c=A(n[1],`
`,function(_){return Vt(a,_,e,o)});return u.length===0?c:i+`
`+c}var Gi={make:Ti,encode:su,show:lu};function gi(n,e,r){return[n,e,r]}var ht={Signature:li,Local:di,Body:Gi,make:gi};function hi(n){return[]}function cr(n,e){var r=nr(n,function(u){return Mn(u,e)});return r!==void 0?r:(n.push(e),n.length-1|0)}function vu(n){return Qn(1,On(v(n,iu)))}function du(n){return In(1)+`
`+A(n,`
`,cu)}var Ei={make:hi,getOrAdd:cr,encode:vu,show:du};function wi(n){return[]}function Tu(n,e){return n.push(e),n.length-1|0}function Gu(n){return Qn(3,On(v(n,_n)))}function gu(n,e){return In(3)+`
`+A(Oe(n,e),`
`,function(r){return r[1]+": "+String(r[0])})}var Ai={make:wi,addSignature:Tu,encode:Gu,show:gu};function zt(n){return De(v(n.split(""),function(e){return e.charCodeAt(0)|0}))}var mi={encode:zt};function pi(n){return[n]}function hu(n){switch(n){case 0:return"func";case 1:return"table";case 2:return"memory";case 3:return"global"}}var Si={encode:pi,show:hu};function bi(n,e,r){return{name:n,kind:e,index:r}}function Eu(n){return on([zt(n.name),[n.kind],_n(n.index)])}function wu(n){return"export "+hu(n.kind)+" "+n.name+" (index: "+String(n.index)+")"}var ki={ExternalKind:Si,make:bi,encode:Eu,show:wu};function Di(n){return[]}function Ni(n,e){n.push(e)}function Au(n){return Qn(7,On(v(n,Eu)))}function mu(n){return In(7)+`
`+A(n,`
`,wu)}var Fi={make:Di,add:Ni,encode:Au,show:mu};function Ri(n){return n?"externref":"funcref"}function $i(n){return n?111:112}var Li={show:Ri,encode:$i};function _r(n){return"{ min: "+String(n[0])+", max: "+dn(n[1],"?",function(e){return String(e)})+" }"}function Ci(n,e){return[n,e]}function Mi(n){return[n,n]}function Bt(n){var e=n[1],r=n[0];return e!==void 0?on([[1],_n(r),_n(e)]):tn([0],_n(r))}var fr={show:_r,make:Ci,makeExact:Mi,encode:Bt};function Xi(n,e){return[n,e]}function pu(n){return tn([n[0]?111:112],Bt(n[1]))}function Su(n){return"table "+(n[0]?"externref":"funcref")+" "+_r(n[1])}var bu={make:Xi,encode:pu,show:Su};function Ui(n){return[]}function Oi(n,e){n.push(e)}function ku(n){return In(4)+`
`+A(n,`
`,Su)}function Du(n){return Qn(4,On(v(n,pu)))}var Vi={make:Ui,add:Oi,show:ku,encode:Du};function zi(n,e){var r=n!==void 0?n:0;return{offset:r,funcIndices:e}}function Nu(n){return"elem funcref ("+A(n.funcIndices," ",function(e){return String(e)})+") (offset="+String(n.offset)+")"}function Fu(n){return on([[0],fe({TAG:0,_0:n.offset}),fe(1),On(v(n.funcIndices,_n))])}var Ru={fromFuncRefs:zi,show:Nu,encode:Fu};function Bi(n){return[]}function Pi(n,e){n.push(e)}function $u(n){return In(9)+`
`+A(n,`
`,Nu)}function Lu(n){return Qn(9,On(v(n,Fu)))}var qi={make:Bi,add:Pi,show:$u,encode:Lu};function ji(n){return n}function Cu(n){return tn(on(v(n,fe)),fe(1))}function Mu(n){if(n.length!==1)return`
`+A(n,`
`,function(r){return"  "+Vt(void 0,r,[],[])})+`
end`;var e=n[0];return Vt(void 0,e,[],[])}var Zi={fromInstructions:ji,encode:Cu,show:Mu};function Wi(n,e,r){return[e,n,r]}function Xu(n){return"global "+(n[1]?"mutable":"immutable")+" "+nt(n[0])+" = "+Mu(n[2])}function Uu(n){return tn([xe(n[0]),n[1]?1:0],Cu(n[2]))}var Et={Initializer:Zi,make:Wi,show:Xu,encode:Uu};function Ji(n){return[]}function Ki(n,e){n.push(e)}function Ou(n){return In(6)+`
`+A(n,`
`,Xu)}function Vu(n){return Qn(6,On(v(n,Uu)))}var Yi={make:Ji,add:Ki,show:Ou,encode:Vu};function Hi(n){return n}function zu(n){return"memory "+_r(n)}var Bu={make:Hi,show:zu,encode:Bt};function Qi(n){return[]}function Pu(n,e){return n.push(e)-1|0}function qu(n){return In(5)+`
`+A(n,`
`,zu)}function ju(n){return Qn(5,On(v(n,Bt)))}var Ii={make:Qi,add:Pu,show:qu,encode:ju},yi={};function Zu(n){return on([[0],_n(n._0)])}function Wu(n){return"func (index: "+String(n._0)+")"}var xi={make:void 0,encode:Zu,show:Wu};function Ju(n){return on([zt(n.moduleName),zt(n.entityName),Zu(n.desc)])}function nc(n,e,r){return{moduleName:n,entityName:e,desc:r}}function Ku(n){return"import "+Wu(n.desc)+" "+n.moduleName+"."+n.entityName}var Yu={ImportDesc:xi,encode:Ju,make:nc,show:Ku};function ec(n){return[]}function Hu(n,e){return n.push(e)-1|0}function Qu(n){return Qn(2,On(v(n,Ju)))}function Iu(n){return In(2)+`
`+A(n,`
`,Ku)}function tc(n){return n.length}var rc={make:ec,add:Hu,encode:Qu,show:Iu,count:tc};function uc(n){return[]}function yu(n,e){return n.push(e),n.length-1|0}function xu(n){return Qn(10,On(v(n,su)))}function na(n,e,r){var u=v(Lt(e,function(t){return!0}),function(t){return t.entityName}),a=tn(u,v(r,function(t){return t[0]}));return In(10)+`
`+A(Oe(n,r),`

`,function(t){var o=t[1];return o[0]+`
`+lu(t[0],a,o[1])})}var ac={make:uc,addFunc:yu,encode:xu,show:na};function ea(n){return n?"active memIndex: "+String(n._0)+" offset: "+String(n._1):"passive"}var oc={show:ea};function ic(n,e){return{init:n,mode:e}}function ta(n){return"segment len: "+String(n.init.length)+" mode: "+ea(n.mode)}function ra(n){var e=n.mode,r=n.init;if(!e)return tn([1],De(r));var u=e._0;return u!==0?on([[2],_n(u),fe({TAG:0,_0:e._1}),fe(1),De(r)]):on([[0],fe({TAG:0,_0:e._1}),fe(1),De(r)])}var cc={make:ic,show:ta,encode:ra};function _c(n){return[]}function ua(n,e){return n.push(e)-1|0}function aa(n){return In(11)+`
`+A(n,`

`,ta)}function oa(n){return Qn(11,On(v(n,ra)))}var fc={make:_c,add:ua,show:aa,encode:oa},sc={Mode:oc,Segment:cc,Section:fc};function lc(n){return{typeSection:[],importSection:[],funcSection:[],tableSection:[],memorySection:[],globalSection:[],exportSection:[],elementSection:[],codeSection:[],dataSection:[],funcs:[]}}function vc(n,e){return cr(n.typeSection,e)}function ia(n,e,r,u){var a=cr(n.typeSection,r);return Tu(n.funcSection,a),n.funcs.push([e,r,u]),yu(n.codeSection,u)+n.importSection.length|0}function dc(n,e,r,u){var a=ia(n,e,r,u),t={name:e,kind:0,index:a};return n.exportSection.push(t),a}function Tc(n,e){n.tableSection.push(e)}function Gc(n,e){n.elementSection.push(e)}function gc(n,e){n.globalSection.push(e)}function hc(n,e){return Pu(n.memorySection,e)}function Ec(n,e){return Hu(n.importSection,e)}function wc(n,e){return ua(n.dataSection,e)}function ca(n){return on([[0,97,115,109,1,0,0,0],vu(n.typeSection),Qu(n.importSection),Gu(n.funcSection),Du(n.tableSection),ju(n.memorySection),Vu(n.globalSection),Au(n.exportSection),Lu(n.elementSection),xu(n.codeSection),oa(n.dataSection)])}function Ac(n){return(e=>Uint8Array.from(e))(ca(n))}function mc(n){return A([du(n.typeSection),Iu(n.importSection),gu(n.funcSection,v(n.funcs,function(e){return e[0]})),ku(n.tableSection),qu(n.memorySection),Ou(n.globalSection),mu(n.exportSection),$u(n.elementSection),na(n.codeSection,n.importSection,n.funcs),aa(n.dataSection)],`

`,function(e){return e})}var Pn={make:lc,getOrAddSignature:vc,addFunc:ia,addExportedFunc:dc,addTable:Tc,addElement:Gc,addGlobal:gc,addMemory:hc,addImport:Ec,addData:wc,encode:ca,encodeAsUint8Array:Ac,show:mc},pc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",uleb128:_n,sleb128:Ot,Vec:Ho,I32:Io,I64:xo,F32:ni,F64:ei,Section:ri,ValueType:ui,BlockReturnType:oi,Inst:ii,Func:ht,TypeSection:Ei,FuncSection:Ai,Str:mi,ExportEntry:ki,ExportSection:Fi,ReferenceType:Li,Limits:fr,Table:bu,TableSection:Vi,Elem:Ru,ElementSection:qi,Global:Et,GlobalSection:Yi,Memory:Bu,MemorySection:Ii,Import:yi,ImportEntry:Yu,ImportSection:rc,CodeSection:ac,Data:sc,Module:Pn});const sr={Else:0,End:1,Return:2,Drop:3,AddI32:4,SubI32:5,MulI32:6,DivI32Unsigned:7,DivI32Signed:8,EqzI32:9,EqI32:10,EqI64:11,EqF32:12,EqF64:13,NeI32:14,NeI64:15,NeF32:16,NeF64:17,LeI32Signed:18,LeI32Unsigned:19,LeI64Signed:20,LeI64Unsigned:21,LeF32:22,LeF64:23,GeI32Signed:24,GeI32Unsigned:25,GeI64Signed:26,GeI64Unsigned:27,GeF32:28,GeF64:29,LtI32Signed:30,LtI32Unsigned:31,LtI64Signed:32,LtI64Unsigned:33,LtF32:34,LtF64:35,GtI32Signed:36,GtI32Unsigned:37,GtI64Signed:38,GtI64Unsigned:39,GtF32:40,GtF64:41,RemI32Signed:42,RemI32Unsigned:43,AndI32:44,OrI32:45,ShlI32:46,ShrI32Signed:47,ShrI32Unsigned:48},_a={"0":"I32","1":"I64","2":"F32","3":"F64"},R={I32:0,I64:1,F32:2,F64:3},Sc={FuncRef:0,ExternRef:1},bc={Func:0,Table:1,Memory:2,Global:3},we={Void:0},kc={Passive:0},Z=pc;Z.uleb128;Z.sleb128;Z.Vec.encode;Z.Vec.encodeMany;Z.I32.encode;Z.I64.encode;Z.F32.encode;Z.F64.encode;Z.Func.Signature.funcTypeCode;Z.Func.Signature.empty._0.map(function(e){return _a[e]}),Z.Func.Signature.empty._1.map(function(e){return _a[e]});Z.FuncSection.make;Z.FuncSection.encode;Z.Str.encode;Z.Limits.makeExact;Z.Elem.show;Z.Elem.encode;Z.ElementSection.make;Z.ElementSection.show;Z.ElementSection.encode;Z.MemorySection.make;Z.ImportEntry.ImportDesc.make;const Dc=function(n){return Z.Module.show({typeSection:n.typeSection.map(function(u){return{TAG:0,_0:u[0].map(function(t){return R[t]}),_1:u[1].map(function(t){return R[t]})}}),importSection:n.importSection.map(function(u){return{moduleName:u.moduleName,entityName:u.entityName,desc:{TAG:0,_0:u.desc.value}}}),funcSection:n.funcSection,tableSection:n.tableSection.map(function(u){return[Sc[u[0]],[u[1][0],u[1][1]==null?void 0:u[1][1]]]}),memorySection:n.memorySection.map(function(u){return[u[0],u[1]==null?void 0:u[1]]}),globalSection:n.globalSection.map(function(u){return[R[u[0]],u[1],u[2].map(function(t){return typeof t=="object"?t.tag==="ConstI32"?{TAG:0,_0:t.value}:t.tag==="ConstI64"?{TAG:1,_0:t.value}:t.tag==="ConstF32"?{TAG:2,_0:t.value}:t.tag==="ConstF64"?{TAG:3,_0:t.value}:t.tag==="If"?{TAG:4,_0:typeof t.value=="object"?t.value.tag==="TypeValue"?{TAG:0,_0:R[t.value.value]}:{TAG:1,_0:t.value.value[0],_1:[t.value.value[1][0].map(function(i){return R[i]}),t.value.value[1][1].map(function(i){return R[i]})]}:we[t.value]}:t.tag==="BranchIf"?{TAG:5,_0:t.value}:t.tag==="Branch"?{TAG:6,_0:t.value}:t.tag==="Block"?{TAG:7,_0:typeof t.value=="object"?t.value.tag==="TypeValue"?{TAG:0,_0:R[t.value.value]}:{TAG:1,_0:t.value.value[0],_1:[t.value.value[1][0].map(function(i){return R[i]}),t.value.value[1][1].map(function(i){return R[i]})]}:we[t.value]}:t.tag==="Loop"?{TAG:8,_0:typeof t.value=="object"?t.value.tag==="TypeValue"?{TAG:0,_0:R[t.value.value]}:{TAG:1,_0:t.value.value[0],_1:[t.value.value[1][0].map(function(i){return R[i]}),t.value.value[1][1].map(function(i){return R[i]})]}:we[t.value]}:t.tag==="GetGlobal"?{TAG:9,_0:t.value}:t.tag==="SetGlobal"?{TAG:10,_0:t.value}:t.tag==="GetLocal"?{TAG:11,_0:t.value}:t.tag==="SetLocal"?{TAG:12,_0:t.value}:t.tag==="TeeLocal"?{TAG:13,_0:t.value}:t.tag==="Call"?{TAG:14,_0:t.value}:t.tag==="CallIndirect"?{TAG:15,_0:t.value[0],_1:t.value[1]}:t.tag==="LoadI32"?{TAG:16,_0:t.value[0],_1:t.value[1]}:t.tag==="StoreI32"?{TAG:17,_0:t.value[0],_1:t.value[1]}:t.tag==="InitMemory"?{TAG:18,_0:t.value}:{TAG:19,_0:t.value}:sr[t]})]}),exportSection:n.exportSection.map(function(u){return{name:u.name,kind:bc[u.kind],index:u.index}}),elementSection:n.elementSection,codeSection:n.codeSection.map(function(u){return[u[0].map(function(t){return[t[0],R[t[1]]]}),u[1].map(function(t){return typeof t=="object"?t.tag==="ConstI32"?{TAG:0,_0:t.value}:t.tag==="ConstI64"?{TAG:1,_0:t.value}:t.tag==="ConstF32"?{TAG:2,_0:t.value}:t.tag==="ConstF64"?{TAG:3,_0:t.value}:t.tag==="If"?{TAG:4,_0:typeof t.value=="object"?t.value.tag==="TypeValue"?{TAG:0,_0:R[t.value.value]}:{TAG:1,_0:t.value.value[0],_1:[t.value.value[1][0].map(function(i){return R[i]}),t.value.value[1][1].map(function(i){return R[i]})]}:we[t.value]}:t.tag==="BranchIf"?{TAG:5,_0:t.value}:t.tag==="Branch"?{TAG:6,_0:t.value}:t.tag==="Block"?{TAG:7,_0:typeof t.value=="object"?t.value.tag==="TypeValue"?{TAG:0,_0:R[t.value.value]}:{TAG:1,_0:t.value.value[0],_1:[t.value.value[1][0].map(function(i){return R[i]}),t.value.value[1][1].map(function(i){return R[i]})]}:we[t.value]}:t.tag==="Loop"?{TAG:8,_0:typeof t.value=="object"?t.value.tag==="TypeValue"?{TAG:0,_0:R[t.value.value]}:{TAG:1,_0:t.value.value[0],_1:[t.value.value[1][0].map(function(i){return R[i]}),t.value.value[1][1].map(function(i){return R[i]})]}:we[t.value]}:t.tag==="GetGlobal"?{TAG:9,_0:t.value}:t.tag==="SetGlobal"?{TAG:10,_0:t.value}:t.tag==="GetLocal"?{TAG:11,_0:t.value}:t.tag==="SetLocal"?{TAG:12,_0:t.value}:t.tag==="TeeLocal"?{TAG:13,_0:t.value}:t.tag==="Call"?{TAG:14,_0:t.value}:t.tag==="CallIndirect"?{TAG:15,_0:t.value[0],_1:t.value[1]}:t.tag==="LoadI32"?{TAG:16,_0:t.value[0],_1:t.value[1]}:t.tag==="StoreI32"?{TAG:17,_0:t.value[0],_1:t.value[1]}:t.tag==="InitMemory"?{TAG:18,_0:t.value}:{TAG:19,_0:t.value}:sr[t]})]}),dataSection:n.dataSection.map(function(u){return{init:u.init,mode:typeof u.mode=="object"?{TAG:0,_0:u.mode[0],_1:u.mode[1]}:kc[u.mode]}}),funcs:n.funcs.map(function(u){return[u[0],{TAG:0,_0:u[1][0].map(function(t){return R[t]}),_1:u[1][1].map(function(t){return R[t]})},[u[2][0].map(function(t){return[t[0],R[t[1]]]}),u[2][1].map(function(t){return typeof t=="object"?t.tag==="ConstI32"?{TAG:0,_0:t.value}:t.tag==="ConstI64"?{TAG:1,_0:t.value}:t.tag==="ConstF32"?{TAG:2,_0:t.value}:t.tag==="ConstF64"?{TAG:3,_0:t.value}:t.tag==="If"?{TAG:4,_0:typeof t.value=="object"?t.value.tag==="TypeValue"?{TAG:0,_0:R[t.value.value]}:{TAG:1,_0:t.value.value[0],_1:[t.value.value[1][0].map(function(i){return R[i]}),t.value.value[1][1].map(function(i){return R[i]})]}:we[t.value]}:t.tag==="BranchIf"?{TAG:5,_0:t.value}:t.tag==="Branch"?{TAG:6,_0:t.value}:t.tag==="Block"?{TAG:7,_0:typeof t.value=="object"?t.value.tag==="TypeValue"?{TAG:0,_0:R[t.value.value]}:{TAG:1,_0:t.value.value[0],_1:[t.value.value[1][0].map(function(i){return R[i]}),t.value.value[1][1].map(function(i){return R[i]})]}:we[t.value]}:t.tag==="Loop"?{TAG:8,_0:typeof t.value=="object"?t.value.tag==="TypeValue"?{TAG:0,_0:R[t.value.value]}:{TAG:1,_0:t.value.value[0],_1:[t.value.value[1][0].map(function(i){return R[i]}),t.value.value[1][1].map(function(i){return R[i]})]}:we[t.value]}:t.tag==="GetGlobal"?{TAG:9,_0:t.value}:t.tag==="SetGlobal"?{TAG:10,_0:t.value}:t.tag==="GetLocal"?{TAG:11,_0:t.value}:t.tag==="SetLocal"?{TAG:12,_0:t.value}:t.tag==="TeeLocal"?{TAG:13,_0:t.value}:t.tag==="Call"?{TAG:14,_0:t.value}:t.tag==="CallIndirect"?{TAG:15,_0:t.value[0],_1:t.value[1]}:t.tag==="LoadI32"?{TAG:16,_0:t.value[0],_1:t.value[1]}:t.tag==="StoreI32"?{TAG:17,_0:t.value[0],_1:t.value[1]}:t.tag==="InitMemory"?{TAG:18,_0:t.value}:{TAG:19,_0:t.value}:sr[t]})]]})})};Z.F32;Z.F64;Z.I32;Z.I64;Z.Vec;Z.Str;function Nc(n,e,r){return m(e,m(n,r))}var Fc={compose:Nc};function Rc(n){var e=Math.log2(n);return e===Math.floor(e)}var fa={isPowerOf2:Rc};function $c(n,e){for(var r,u=0;he(r)&&u<n.length;){var a=m(e,Ee(n,u));a!==void 0&&(r=J(ce(a))),u=u+1|0}return r}function Lc(n,e){for(var r,u=n.length-1|0;he(r)&&u>=0;)m(e,Ee(n,u))?r=u:u=u-1|0;return r}function Cc(n,e){for(var r,u=n.length-1|0;he(r)&&u>=0;){var a=Ee(n,u);m(e,a)?r=J(a):u=u-1|0}return r}function Mc(n,e){for(var r=[],u=!1,a=0;u===!1&&a<n.length;){var t=Ee(n,a);t!==void 0?r.push(m(e,ce(t))):u=!0,a=a+1|0}if(!u)return r}function Xc(n,e){for(var r=[],u,a=0;he(u)&&a<n.length;){var t=Ee(n,a);t.TAG===0?r.push(m(e,t._0)):u=J(t._0),a=a+1|0}var o=u;return o!==void 0?{TAG:1,_0:ce(o)}:{TAG:0,_0:r}}function Uc(n,e){return rn(nr(n,e),function(r){return[Ee(n,r),r]})}var Ae={firstSomeBy:$c,getReverseIndexBy:Lc,getReverseBy:Cc,mapOption:Mc,mapResult:Xc,getValueAndIndexBy:Uc};function et(n){return[[],n]}var Oc=qr;function Vc(n,e,r){return qr(n,e,[[],r])}var zc=go,Bc=ho,Pc=er;function qc(n,e){var r=A(jr(Zr(n,e)),`
`,function(u){return"  "+u[0]+": "+u[1]});return`{
`+r+`
}`}var Xn={empty:void 0,add:Oc,addMono:Vc,remove:zc,has:Bc,get:Pc,show:qc},jc=[],qn={TAG:1,_0:"u32",_1:jc},Zc=[],Vn={TAG:1,_0:"bool",_1:Zc},Wc=[],Ne={TAG:1,_0:"()",_1:Wc};function Ln(n,e){return{TAG:1,_0:"Fun",_1:tn(n,[e])}}function Jc(n){return{TAG:1,_0:"Tuple",_1:n}}function sa(n,e){return{TAG:1,_0:"Array",_1:[n,{TAG:1,_0:String(e),_1:[]}]}}function Kc(n){return{TAG:1,_0:"Ptr",_1:[n]}}function lr(n){switch(n.TAG|0){case 0:case 1:return!1;case 2:return!0}}var se=hn("Types.Size.UnkownTypeSize");function wt(n){for(;;){var e=n;switch(e.TAG|0){case 0:throw{RE_EXN_ID:se,_1:e,Error:new Error};case 1:switch(e._0){case"()":if(e._1.length===0)return 0;throw{RE_EXN_ID:se,_1:e,Error:new Error};case"Array":var r=e._1;if(r.length!==2)throw{RE_EXN_ID:se,_1:e,Error:new Error};var u=r[0],a=r[1];switch(a.TAG|0){case 1:if(a._1.length!==0)throw{RE_EXN_ID:se,_1:e,Error:new Error};return Math.imul(Wr(a._0),wt(u));case 0:case 2:throw{RE_EXN_ID:se,_1:e,Error:new Error}}case"Mut":var t=e._1;if(t.length!==1)throw{RE_EXN_ID:se,_1:e,Error:new Error};n=t[0];continue;case"Fun":case"Ptr":return 4;case"Tuple":return Sn(v(e._1,wt),0,function(o,i){return o+i|0});case"bool":case"u32":break;case"u64":if(e._1.length===0)return 8;throw{RE_EXN_ID:se,_1:e,Error:new Error};default:throw{RE_EXN_ID:se,_1:e,Error:new Error}}if(e._1.length===0)return 4;throw{RE_EXN_ID:se,_1:e,Error:new Error};case 2:return 4}}}function Yc(n){return Math.ceil(Math.log2(wt(n)))|0}function Hc(n){return wt(n)===0}var xn={UnkownTypeSize:se,size:wt,sizeLog2:Yc,isZeroSizedType:Hc};function Qc(n){return{TAG:0,_0:n}}function vr(n,e,r){if(n.TAG===0)return{TAG:1,_0:[e,r],_1:{TAG:0,_0:n._0}};var u=n._1,a=n._0,t=a[1],o=a[0];return e<o?{TAG:1,_0:[e,r],_1:{TAG:1,_0:[o,t],_1:u}}:{TAG:1,_0:[o,t],_1:vr(u,e,r)}}function Ic(n){for(;;){var e=n;if(e.TAG===0)return e._0;n=e._1}}function yc(n,e){return Sn(n,{TAG:0,_0:{TAG:0,_0:e}},function(r,u){return vr(r,u[0],u[1])})}function dr(n){var e=function(r,u){for(;;){var a=u,t=r;if(t.TAG===0){var o=t._0;switch(o.TAG|0){case 0:case 1:return a;case 2:var i=o._0;if(i.TAG===0)return a;var c=i._0;if(c.TAG===0)return a;u={hd:c._0,tl:a},r=c._1;continue}}else{u={hd:t._0,tl:a},r=t._1;continue}}};return Ie(e(n,0))}function xc(n){return Eo(dr(n))}function la(n,e){if(n.TAG===0){var r=m(e,n._0);switch(r.TAG|0){case 0:case 1:return{TAG:0,_0:r};case 2:var u=r._0;return u.TAG===0?{TAG:0,_0:r}:u._0}}else{var a=n._0;return{TAG:1,_0:[a[0],m(e,a[1])],_1:la(n._1,e)}}}function va(n,e){var r=function(u,a){for(;;){var t=a,o=u;if(o.TAG===0)return Pr(Ie({hd:"..."+m(e,o._0),tl:t}));var i=o._0;a={hd:i[0]+": "+m(e,i[1]),tl:t},u=o._1}};return"{ "+A(r(n,0),", ",function(u){return u})+" }"}var zn={make:Qc,insert:vr,tail:Ic,fromArray:yc,toArray:dr,toMap:xc,map:la,show:va};function Pt(n){switch(n.TAG|0){case 0:return mo(void 0,n._0);case 1:return Sn(v(n._1,Pt),void 0,rr);case 2:var e=n._0;return e.TAG===0?void 0:Sn(v(dr(e._0),function(r){return Fc.compose(function(u){return u[1]},Pt,r)}),void 0,rr)}}function n0(n){return Jr(Pt(n[1]),po(n[0]))}function e0(n){return Sn(v(Ao(n),n0),void 0,rr)}function Tr(n,e){var r=wo(Jr(Pt(e),e0(n)));return[r,e]}function t0(n){var e=String.fromCharCode(97+n%26|0),r=n/26|0;return r===0?e:e+String(r)}function k(n){switch(n.TAG|0){case 0:return t0(n._0);case 1:var e=n._0;if(n._1.length===0)return e;switch(e){case"Array":var r=n._1;if(r.length===2){var u=r[0],a=r[1];switch(a.TAG|0){case 1:if(a._1.length===0)return"["+k(u)+"; "+a._0+"]";break}}break;case"Fun":var t=n._1,o=tr(t,0,t.length-1|0),i=Ee(t,t.length-1|0);if(o.length!==1)return"("+A(o,", ",k)+") -> "+k(i);var c=o[0];return k(c)+" -> "+k(i);case"Tuple":return"("+A(n._1,", ",k)+")"}return e+"<"+A(n._1,", ",k)+">";case 2:var _=n._0;return _.TAG===0?_._0:va(_._0,k)}}function da(n){switch(n){case 0:return"+";case 1:return"-";case 2:return"*";case 3:return"/";case 4:return"%";case 5:return"<";case 6:return"<=";case 7:return">";case 8:return">=";case 9:return"==";case 10:return"!=";case 11:return"&&";case 12:return"||";case 13:return"&";case 14:return"|";case 15:return"<<";case 16:return">>"}}var r0={show:da};function Ta(n){switch(n){case 0:return"-";case 1:return"!";case 2:return"*"}}var u0={show:Ta};function Ga(n){return typeof n=="number"?"()":n.TAG===0?String(n._0):n._0?"true":"false"}var a0={show:Ga};function P(n){switch(n.TAG|0){case 0:return Ga(n._0);case 1:return Ta(n._0)+P(n._1);case 2:return"("+P(n._0)+" "+da(n._1)+" "+P(n._2)+")";case 3:return n._0;case 4:return P(n._0)+" = "+P(n._1);case 5:var e=n._1,r=n._0,u=r.length;if(u!==1)return u!==0?"("+A(r,", ",function(c){return c})+") -> "+P(e):"() -> "+P(e);var a=r[0];return a+" -> "+P(e);case 6:return"let "+n._0+" = "+P(n._1)+" in "+P(n._2);case 7:return"("+P(n._0)+")("+A(n._1,", ",P)+")";case 8:return(n._2===1?"unsafe ":"")+`{
`+A(tn(v(n._0,ga),dn(n._1,[],function(c){return[P(c)]})),`;
`,function(c){return"  "+c})+`
}`;case 9:var t=n._2,o="if "+P(n._0)+" "+P(n._1);return t!==void 0?o+" else "+P(t):o;case 10:return"while "+P(n._0)+" "+P(n._1);case 11:return"return "+dn(n._0,"",P);case 12:return P(n._0)+" as "+k(n._1);case 13:return"("+A(n._0,", ",P)+")";case 14:return n._0+` {
`+A(n._1,", ",function(c){return c[0]+": "+P(c[1])})+`
}`;case 15:var i=n._0;return i.TAG===0?"["+P(i._0)+"; "+String(i._1)+"]":"["+A(i._0,", ",P)+"]";case 16:return P(n._0)+"."+n._1}}function Gr(n){switch(n.TAG|0){case 0:return"fn "+n._0+"("+A(n._1,", ",function(e){return(e[1]?"mut ":"")+e[0]})+") "+P(n._2);case 1:return(n._1?"mut":"let")+" "+n._0+" = "+P(n._2);case 2:return"struct "+n._0+` {
`+A(n._1,`,
`,function(e){return(e[2]?"mut ":"")+e[0]+": "+k(e[1])})+`
}`;case 3:return"impl "+n._0+` {
`+A(n._1,`

`,Gr)+`
}`;case 4:return"extern fn "+n.name+"("+A(n.args,", ",function(e){return(e[2]?"mut ":"")+e[0]+": "+k(e[1])})+") -> "+k(n.ret)}}function ga(n){return n.TAG===0?(n._1?"mut":"let")+" "+n._0+" = "+P(n._2):P(n._0)}var o0={showExpr:P,showDecl:Gr,showStmt:ga},i0={show:Gr};function E(n,e){for(;;){var r=e;switch(r.TAG|0){case 0:var u=r._0,a=Kr(n,u);if(a===void 0)return{TAG:0,_0:u};e=a;continue;case 1:return{TAG:1,_0:r._0,_1:v(r._1,function(i){return E(n,i)})};case 2:var t=r._0,o;return o=t.TAG===0?{TAG:0,_0:t._0}:{TAG:1,_0:zn.map(t._0,function(i){return E(n,i)})},{TAG:2,_0:o}}}}function ha(n,e){var r=e[0];return[r,E(Do(n,r),e[1])]}function U(n,e){return So(bo(e,function(r){return E(n,r)}),n,function(r,u,a){return ko(a,u)})}function Tn(n,e){return Zr(e,function(r){return ha(n,r)})}var Ve;function c0(n){return"struct "+n.name+`{
`+A(n.attributes,`,
`,function(e){return"  "+e.name+": "+k(e.ty)})+`
}`}function _0(n,e){return{TAG:2,_0:{TAG:1,_0:zn.fromArray(v(n.attributes,function(r){return[r.name,r.ty]}),e)}}}function f0(n,e){var r={contents:0},u=[];return $n(e,function(a){var t=a[1],o=xn.size(t);u.push({name:a[0],mut:a[2],offset:r.contents,ty:t,size:o,impl:void 0}),r.contents=r.contents+o|0}),{name:n,attributes:u,size:r.contents,staticFuncs:[]}}function s0(n,e,r){n.attributes.push({name:e.contents.name,mut:!1,offset:0,ty:e.contents.ty,size:0,impl:[e,r]})}function l0(n,e){n.staticFuncs.push({name:e})}var tt={show:c0,toPartialStructType:_0,make:f0,addImplementation:s0,addStaticFunc:l0},jn={tyVarIndex:0,identifiers:[],renaming:No(10),structs:Yr(5)};function me(n){var e=jn.tyVarIndex;return jn.tyVarIndex=jn.tyVarIndex+1|0,e}function At(n){return{TAG:0,_0:me()}}function qt(n){var e=n[0],r=v(e,function(u){return{TAG:0,_0:me()}});return E(Lo(Oe(e,r)),n[1])}function ne(n,e){var r=n!==void 0?ce(n):void 0,u=jn.identifiers.length;jn.identifiers.push(e);var a={contents:{name:e,newName:e,index:u,ty:r!==void 0?r:{TAG:0,_0:me()}}};return Ro(jn.renaming,u,a),a}function v0(n){return Hn(Ae.getReverseIndexBy(jn.identifiers,function(e){return e===n}),function(e){return $o(jn.renaming,e)})}function Ea(n,e){e.contents.ty=E(n,e.contents.ty)}function wa(n){return $n(Fo(jn.renaming),function(e){return Ea(n,e)})}function d0(n){return ur(jn.structs,n.name,n)}function ee(n){return Hr(jn.structs,n)}function pe(n){switch(n.TAG|0){case 0:var e=n._0;return typeof e=="number"?Ne:e.TAG===0?qn:Vn;case 3:return n._0.contents.ty;case 4:case 11:return Ne;case 12:return dn(n._0,Ne,pe);case 13:return n._2;case 14:return Jc(v(n._0,pe));case 15:return{TAG:2,_0:{TAG:0,_0:n._0}};default:return n._0}}function T0(n){return n.TAG===0?n._1:n._0.length}var G0={len:T0};function g0(n){return pe(n._0)}function q(n,e){var r=n!==void 0?ce(n):void 0,u=function(T,O){return r!==void 0?"("+O+": "+k(E(ce(r),T))+")":O},a=function(T){return q(J(r),T)};switch(e.TAG|0){case 0:return u(pe(e),a0.show(e._0));case 1:return u(e._0,"("+q(J(r),e._1)+" "+r0.show(e._2)+" "+q(J(r),e._3)+")");case 2:return u(e._0,"("+u0.show(e._1)+q(J(r),e._2)+")");case 3:var t=e._0;return u(t.contents.ty,t.contents.name);case 4:var o=e._1;return u(pe(o),q(J(r),e._0)+" = "+q(J(r),o));case 5:return u(e._0,"("+A(e._1,", ",function(T){return T.contents.name})+") -> "+q(J(r),e._2));case 6:return u(e._0,(e._1?"mut":"let")+" "+e._2.contents.name+" = "+q(J(r),e._3)+` in
`+q(J(r),e._4));case 7:return u(e._0,"let rec "+e._1.contents.name+" ("+A(e._2,", ",function(T){return T.contents.name})+") = "+q(J(r),e._3)+` in
`+q(J(r),e._4));case 8:return u(e._0,"("+q(J(r),e._1)+")("+A(e._2,", ",a)+")");case 9:var i=e._2,c=J(r);return u(e._0,(e._3===1?"unsafe ":"")+`{
`+A(tn(v(e._1,function(T){return Aa(c,T)}),dn(i,[],function(T){return[q(void 0,T)]})),`;
`,function(T){return"  "+T})+(he(i)?"; ":"")+`
}`);case 10:return u(e._0,"if "+q(J(r),e._1)+" "+q(J(r),e._2)+" else "+q(J(r),e._3));case 11:return u(Ne,"while "+q(void 0,e._0)+" "+q(void 0,e._1));case 12:var _=J(r);return"return "+u(pe(e),dn(e._0,"",function(T){return q(_,T)}));case 13:var l=e._0;return u(pe(l),q(void 0,l))+" as "+k(e._2);case 14:var h=J(r);return"("+A(e._0,", ",function(T){return q(h,T)})+")";case 15:return e._0+` {
`+A(e._1,`,
`,function(T){return T[0]+": "+q(void 0,T[1])})+`
}`;case 16:var b=e._1,V;return V=b.TAG===0?"["+q(void 0,b._0)+"; "+String(b._1)+"]":"["+A(b._0,", ",function(T){return q(void 0,T)})+"]",u(e._0,V);case 17:return u(e._0,q(void 0,e._1)+"."+e._2)}}function Aa(n,e){var r=n!==void 0?ce(n):void 0;return q(J(r),e._0)}function gr(n,e){var r=n!==void 0?ce(n):void 0,u=function(_,l){return r!==void 0?"("+l+": "+k(E(ce(r),_))+")":l};switch(e.TAG|0){case 0:var a=e._1,t=e._0,o;if(r!==void 0){var i=ce(r);o=A(a,", ",function(_){var l=_[0];return(_[1]?"mut ":"")+(l.contents.name+": "+k(E(i,l.contents.ty)))})}else o=A(a,", ",function(_){return(_[1]?"mut ":"")+_[0].contents.name});return u(t.contents.ty,"fn "+t.contents.name+"("+o+") "+q(J(r),e._2));case 1:var c=e._0;return u(c.contents.ty,(e._1?"mut":"let")+" "+c.contents.name+" = "+q(J(r),e._2));case 2:return o0.showDecl({TAG:2,_0:e._0,_1:e._1});case 3:return"impl "+e._0+` {
`+A(e._1,`

`,function(_){return gr(void 0,{TAG:0,_0:_[0],_1:_[1],_2:_[2]})})+`
}`;case 4:return"extern fn "+e.name.contents.name+"("+A(e.args,", ",function(_){var l=_[0];return(_[1]?"mut ":"")+l.contents.name+": "+k(l.contents.ty)})+") -> "+k(e.ret)}}var ma=hn("Core.CoreAst.UnexpectedDeclarationInImplBlock"),pa=hn("Core.CoreAst.UndeclaredIdentifer"),Sa=hn("Core.CoreAst.UnreachableLetStmt");function hr(n,e,r,u,a){return r.TAG===5?{TAG:7,_0:r._0,_1:n,_2:r._1,_3:r._2,_4:u}:{TAG:6,_0:a,_1:e,_2:n,_3:r,_4:u}}function j(n){var e={LAZY_DONE:!1,VAL:function(){return At()}};switch(n.TAG|0){case 0:return{TAG:0,_0:n._0};case 1:return{TAG:2,_0:_e(e),_1:n._0,_2:j(n._1)};case 2:return{TAG:1,_0:_e(e),_1:j(n._0),_2:n._1,_3:j(n._2)};case 3:var r=n._0,u=v0(r);if(u!==void 0)return{TAG:3,_0:u};var a=ee(r);if(a!==void 0)return{TAG:3,_0:ne(void 0,r)};throw{RE_EXN_ID:pa,_1:r,Error:new Error};case 4:return{TAG:4,_0:j(n._0),_1:j(n._1)};case 5:var t=n._1,o=n._0;if(o.length===0)return{TAG:5,_0:_e(e),_1:[ne(void 0,"__x")],_2:j(t)};var i=J(void 0);return{TAG:5,_0:_e(e),_1:v(o,function(T){return ne(i,T)}),_2:j(t)};case 6:return hr(ne(void 0,n._0),!1,j(n._1),j(n._2),_e(e));case 7:return{TAG:8,_0:_e(e),_1:j(n._0),_2:v(n._1,j)};case 8:var c=n._2,_=n._1,l=function(T){if(!T)return rn(_,j);var O=T.hd;if(O.TAG!==0)return{TAG:9,_0:_e(e),_1:[ba(O)],_2:l(T.tl),_3:c};var nn=O._3;return hr(ne(void 0,O._0),O._1,j(O._2),dn(l(T.tl),{TAG:0,_0:0},function(vn){return vn}),nn!==void 0?nn:At())};return{TAG:9,_0:_e(e),_1:[],_2:l(dt(n._0)),_3:c};case 9:return{TAG:10,_0:_e(e),_1:j(n._0),_2:j(n._1),_3:dn(n._2,{TAG:0,_0:0},j)};case 10:return{TAG:11,_0:j(n._0),_1:j(n._1)};case 11:return{TAG:12,_0:rn(n._0,j)};case 12:return{TAG:13,_0:j(n._0),_1:_e(e),_2:n._1};case 13:return{TAG:14,_0:v(n._0,j)};case 14:return{TAG:15,_0:n._0,_1:v(n._1,function(T){return[T[0],j(T[1])]})};case 15:var h=n._0,b=At(),V;return V=h.TAG===0?{TAG:0,_0:j(h._0),_1:h._1}:{TAG:1,_0:v(h._0,j)},{TAG:16,_0:b,_1:V};case 16:return{TAG:17,_0:At(),_1:j(n._0),_2:n._1}}}function ba(n){if(n.TAG!==0)return{_0:j(n._0)};throw{RE_EXN_ID:Sa,Error:new Error}}function Er(n){switch(n.TAG|0){case 0:var e=v(n._1,function(o){return[ne(J(void 0),o[0]),o[1]]});return{TAG:0,_0:ne(void 0,n._0),_1:e,_2:j(n._2)};case 1:return{TAG:1,_0:ne(void 0,n._0),_1:n._1,_2:j(n._2)};case 2:var r=n._1,u=n._0;return d0(tt.make(u,r)),{TAG:2,_0:u,_1:r};case 3:var a=v(v(n._1,Er),function(o){if(o.TAG===0)return[o._0,o._1,o._2];throw{RE_EXN_ID:ma,_1:o,Error:new Error}});return{TAG:3,_0:n._0,_1:a};case 4:var t=v(n.args,function(o){return[ne(J(o[1]),o[0]),o[2]]});return{TAG:4,name:ne(void 0,n.name),args:t,ret:n.ret}}}function Y(n,e){var r=function(_){return Y(n,_)};switch(e.TAG|0){case 0:return{TAG:0,_0:e._0};case 1:return{TAG:1,_0:E(n,e._0),_1:Y(n,e._1),_2:e._2,_3:Y(n,e._3)};case 2:return{TAG:2,_0:E(n,e._0),_1:e._1,_2:Y(n,e._2)};case 3:return{TAG:3,_0:e._0};case 4:return{TAG:4,_0:Y(n,e._0),_1:Y(n,e._1)};case 5:return{TAG:5,_0:E(n,e._0),_1:e._1,_2:Y(n,e._2)};case 6:return{TAG:6,_0:E(n,e._0),_1:e._1,_2:e._2,_3:Y(n,e._3),_4:Y(n,e._4)};case 7:return{TAG:7,_0:E(n,e._0),_1:e._1,_2:e._2,_3:Y(n,e._3),_4:Y(n,e._4)};case 8:return{TAG:8,_0:E(n,e._0),_1:Y(n,e._1),_2:v(e._2,r)};case 9:return{TAG:9,_0:E(n,e._0),_1:v(e._1,function(_){return ka(n,_)}),_2:rn(e._2,r),_3:e._3};case 10:return{TAG:10,_0:E(n,e._0),_1:Y(n,e._1),_2:Y(n,e._2),_3:Y(n,e._3)};case 11:return{TAG:11,_0:Y(n,e._0),_1:Y(n,e._1)};case 12:return{TAG:12,_0:rn(e._0,r)};case 13:return{TAG:13,_0:Y(n,e._0),_1:E(n,e._1),_2:E(n,e._2)};case 14:return{TAG:14,_0:v(e._0,r)};case 15:var u=e._1,a=e._0,t=ee(a);if(t===void 0)return Qr('unreachable: undeclared struct "'+a+"'");var o=Ae.mapOption(v(Lt(t.attributes,function(_){return he(_.impl)}),function(_){var l=_.name;return Ct(u,function(h){return h[0]===l})}),function(_){return[_[0],Y(n,_[1])]});return o!==void 0?{TAG:15,_0:a,_1:o}:Qr('unreachable: missing attribute for struct "'+a+'"');case 16:var i=e._1,c;return c=i.TAG===0?{TAG:0,_0:Y(n,i._0),_1:i._1}:{TAG:1,_0:v(i._0,r)},{TAG:16,_0:E(n,e._0),_1:c};case 17:return{TAG:17,_0:E(n,e._0),_1:Y(n,e._1),_2:e._2}}}function ka(n,e){return{_0:Y(n,e._0)}}function Da(n,e){switch(e.TAG|0){case 0:return{TAG:0,_0:e._0,_1:e._1,_2:Y(n,e._2)};case 1:return{TAG:1,_0:e._0,_1:e._1,_2:Y(n,e._2)};case 3:return{TAG:3,_0:e._0,_1:v(e._1,function(r){return[r[0],r[1],Y(n,r[2])]})};case 2:case 4:return e}}var En={typeOfExpr:pe,ArrayInit:G0,typeOfStmt:g0,showExpr:q,showStmt:Aa,showDecl:gr,UnexpectedDeclarationInImplBlock:ma,UndeclaredIdentifer:pa,UnreachableLetStmt:Sa,rewriteLetIn:hr,fromExpr:j,fromStmt:ba,fromDecl:Er,substExpr:Y,substStmt:ka,substDecl:Da},Cn={show:q,from:j,subst:Y,typeOf:pe},Fe={show:gr,from:Er,subst:Da};function Na(n){return[n,0,n.length]}function h0(n){return Na(Array.from(n,function(e){return Ir(e,0)}))}function Fa(n,e){var r=e[2],u=n!==void 0?n:1;return[e[0],Math.min(e[1]+u|0,r),r]}function wr(n){return Ue(n[0],n[1])}function Ar(n){return Fa(1,n)}function mr(n){return n[1]===n[2]}function E0(n){return n[0].slice(n[1],n[2])}function rt(n,e){var r=wr(e);if(r!==void 0&&m(n,r))return[r,Fa(void 0,e)]}function x(n){return function(e){return rt(function(r){return r===n},e)}}function Ra(n){return n>=97?n<=122:!1}function w0(n){return n>=65?n<=90:!1}function A0(n){return Ra(n)?!0:w0(n)}function $a(n){return n>=48?n<=57:!1}function m0(n){return A0(n)?!0:$a(n)}function p0(n){return rt(Ra,n)}function S0(n){return rt($a,n)}function pr(n){return rt(m0,n)}function b0(n){return n>13||n<9?n===32:!(n===12||n===11)}function k0(n){return rt(b0,n)}function w(n,e,r){return rn(m(n,r),function(u){return[m(e,u[0]),u[1]]})}function jt(n,e,r){for(;;){var u=n,a=r,t=u!==void 0?u:[];if(mr(a))return[t,a];var o=m(e,a);if(o===void 0)return[t,a];t.push(o[0]),r=o[1],n=t}}function La(n){return jt(void 0,k0,n)}function mt(n,e,r){return Hn(m(n,r),function(u){var a=u[0];return rn(m(e,u[1]),function(t){return[[a,t[0]],t[1]]})})}function Ca(n){return function(e){return w(function(r){return mt(n,function(u){return jt(void 0,n,u)},r)},function(r){return tn([r[0]],r[1])},e)}}function D0(n,e,r,u){return Hn(mt(n,e,u),function(a){var t=a[0],o=t[1],i=t[0];return rn(m(r,a[1]),function(c){return[[i,o,c[0]],c[1]]})})}function Ma(n){if(!n)return function(a){return[0,a]};var e=n.hd,r=Ma(n.tl),u=function(a){return mt(e,r,a)};return function(a){return w(u,function(t){return{hd:t[0],tl:t[1]}},a)}}function Xa(n,e,r){var u=m(n,r);return u!==void 0?[u[0],u[1]]:m(e,r)}function pt(n,e){return Ae.firstSomeBy(n,function(r){return m(r,e)})}function H(n){var e=Array.from(n,function(u){var a=Ir(u,0);return function(t){return rt(function(o){return o===a},t)}}),r=Ma(dt(e));return function(u){return w(r,function(a){return n},u)}}function N0(n,e){var r=m(n,e);if(r===void 0)return[void 0,Ar(e)]}var F0=Ca(S0);function R0(n){return w(F0,function(e){return{TAG:0,_0:yr(Wr(A(e,"",function(r){return Mt(1,r)})))}},n)}var $0=H("false");function L0(n){return w($0,function(e){return{TAG:1,_0:!1}},n)}var C0=H("true");function M0(n){return w(C0,function(e){return{TAG:1,_0:!0}},n)}function X0(n){return Xa(M0,L0,n)}var U0=[pr,x(95),x(39)];function O0(n){return pt(U0,n)}function V0(n){return jt(void 0,O0,n)}var z0=x(95);function B0(n){return Xa(p0,z0,n)}function P0(n){return mt(B0,V0,n)}function q0(n){return w(P0,function(e){return{TAG:3,_0:Mt(1,e[0])+A(e[1],"",function(r){return Mt(1,r)})}},n)}var j0=[pr,x(95)],Z0=Ca(function(n){return pt(j0,n)});function W0(n){return w(Z0,function(e){return{TAG:4,_0:A(e,"",function(r){return Mt(1,r)})}},n)}var J0=H("let"),K0=H("mut"),Y0=H("in"),H0=H("if"),Q0=H("else"),I0=H("fn"),y0=H("while"),x0=H("return"),n_=H("as"),e_=H("unsafe"),t_=H("struct"),r_=H("impl"),u_=H("extern"),a_=[function(n){return w(J0,function(e){return{TAG:5,_0:0}},n)},function(n){return w(K0,function(e){return{TAG:5,_0:1}},n)},function(n){return w(Y0,function(e){return{TAG:5,_0:2}},n)},function(n){return w(H0,function(e){return{TAG:5,_0:3}},n)},function(n){return w(Q0,function(e){return{TAG:5,_0:4}},n)},function(n){return w(I0,function(e){return{TAG:5,_0:5}},n)},function(n){return w(y0,function(e){return{TAG:5,_0:6}},n)},function(n){return w(x0,function(e){return{TAG:5,_0:7}},n)},function(n){return w(n_,function(e){return{TAG:5,_0:8}},n)},function(n){return w(e_,function(e){return{TAG:5,_0:9}},n)},function(n){return w(t_,function(e){return{TAG:5,_0:10}},n)},function(n){return w(r_,function(e){return{TAG:5,_0:11}},n)},function(n){return w(u_,function(e){return{TAG:5,_0:12}},n)}];function o_(n){return pt(a_,n)}function i_(n){return mt(o_,function(e){return N0(pr,e)},n)}function c_(n){return w(i_,function(e){return e[0]},n)}var __=H("->"),f_=H("=="),s_=H("!="),l_=H("&&"),v_=H("||"),d_=H("+="),T_=H("-="),G_=H("*="),g_=H("/="),h_=H("%="),E_=x(43),w_=x(45),A_=x(42),m_=x(47),p_=x(37),S_=H("<="),b_=H(">="),k_=x(60),D_=x(62),N_=x(40),F_=x(41),R_=x(44),$_=x(59),L_=x(61),C_=x(123),M_=x(125),X_=x(91),U_=x(93),O_=x(58),V_=x(33),z_=x(46),B_=x(38),P_=x(124),q_=[function(n){return w(__,function(e){return{TAG:2,_0:5}},n)},function(n){return w(f_,function(e){return{TAG:2,_0:16}},n)},function(n){return w(s_,function(e){return{TAG:2,_0:17}},n)},function(n){return w(l_,function(e){return{TAG:2,_0:25}},n)},function(n){return w(v_,function(e){return{TAG:2,_0:27}},n)},function(n){return w(d_,function(e){return{TAG:2,_0:28}},n)},function(n){return w(T_,function(e){return{TAG:2,_0:29}},n)},function(n){return w(G_,function(e){return{TAG:2,_0:30}},n)},function(n){return w(g_,function(e){return{TAG:2,_0:31}},n)},function(n){return w(h_,function(e){return{TAG:2,_0:32}},n)},function(n){return w(E_,function(e){return{TAG:2,_0:11}},n)},function(n){return w(w_,function(e){return{TAG:2,_0:12}},n)},function(n){return w(A_,function(e){return{TAG:2,_0:13}},n)},function(n){return w(m_,function(e){return{TAG:2,_0:14}},n)},function(n){return w(p_,function(e){return{TAG:2,_0:15}},n)},function(n){return w(S_,function(e){return{TAG:2,_0:19}},n)},function(n){return w(b_,function(e){return{TAG:2,_0:21}},n)},function(n){return w(k_,function(e){return{TAG:2,_0:18}},n)},function(n){return w(D_,function(e){return{TAG:2,_0:20}},n)},function(n){return w(N_,function(e){return{TAG:2,_0:0}},n)},function(n){return w(F_,function(e){return{TAG:2,_0:1}},n)},function(n){return w(R_,function(e){return{TAG:2,_0:2}},n)},function(n){return w($_,function(e){return{TAG:2,_0:3}},n)},function(n){return w(L_,function(e){return{TAG:2,_0:4}},n)},function(n){return w(C_,function(e){return{TAG:2,_0:6}},n)},function(n){return w(M_,function(e){return{TAG:2,_0:7}},n)},function(n){return w(X_,function(e){return{TAG:2,_0:8}},n)},function(n){return w(U_,function(e){return{TAG:2,_0:9}},n)},function(n){return w(O_,function(e){return{TAG:2,_0:10}},n)},function(n){return w(V_,function(e){return{TAG:2,_0:22}},n)},function(n){return w(z_,function(e){return{TAG:2,_0:23}},n)},function(n){return w(B_,function(e){return{TAG:2,_0:24}},n)},function(n){return w(P_,function(e){return{TAG:2,_0:26}},n)}];function j_(n){return pt(q_,n)}var Z_=[R0,X0,c_,j_,q0,W0];function W_(n){return pt(Z_,n)}function J_(n){return jt(void 0,function(e){return w(function(r){return D0(La,W_,La,r)},function(r){return r[1]},e)},n)}function K_(n){switch(n){case 0:return"(";case 1:return")";case 2:return",";case 3:return";";case 4:return"=";case 5:return"->";case 6:return"{";case 7:return"}";case 8:return"[";case 9:return"]";case 10:return":";case 11:return"+";case 12:return"-";case 13:return"*";case 14:return"/";case 15:return"%";case 16:return"==";case 17:return"!=";case 18:return"<";case 19:return"<=";case 20:return">";case 21:return">=";case 22:return"!";case 23:return".";case 24:return"&";case 25:return"&&";case 26:return"|";case 27:return"||";case 28:return"+=";case 29:return"-=";case 30:return"*=";case 31:return"/=";case 32:return"%="}}function Y_(n){switch(n){case 0:return"let";case 1:return"mut";case 2:return"in";case 3:return"if";case 4:return"else";case 5:return"fn";case 6:return"while";case 7:return"return";case 8:return"as";case 9:return"unsafe";case 10:return"struct";case 11:return"impl";case 12:return"extern"}}function H_(n){switch(n.TAG|0){case 0:return String(n._0);case 1:return n._0?"true":"false";case 2:return K_(n._0);case 3:case 4:return n._0;case 5:return Y_(n._0)}}function ut(n){return{contents:function(e){return Hn(wr(e),function(r){if(m(n,r))return[r,Ar(e)]})}}}function at(n){return{contents:function(e){return Hn(wr(e),function(r){return rn(m(n,r),function(u){return[u,Ar(e)]})})}}}function Q_(n,e){return{contents:function(r){var u=m(n.contents,r);if(u!==void 0){var a=u[1];return rn(m(e,u[0]),function(t){return[t,a]})}}}}function s(n){return ut(function(e){return Mn(e,n)})}function d(n,e){return{contents:function(r){return rn(m(n.contents,r),function(u){return[m(e,u[0]),u[1]]})}}}function fn(n,e){return{contents:function(r){return Hn(m(n.contents,r),function(u){var a=u[0];return rn(m(e.contents,u[1]),function(t){return[[a,t[0]],t[1]]})})}}}function St(n){var e=function(r){return{contents:function(u){if(mr(u))return[0,u];var a=m(r.contents,u);if(a===void 0)return[0,u];var t=a[0];return rn(m(e(r).contents,a[1]),function(o){return[{hd:t,tl:o[0]},o[1]]})}}};return d(e(n),Ie)}function I_(n){return d(fn(n,St(n)),function(e){return tn([e[0]],e[1])})}function Zn(n,e,r){return{contents:function(u){return Hn(m(fn(n,e).contents,u),function(a){var t=a[0],o=t[1],i=t[0];return rn(m(r.contents,a[1]),function(c){return[[i,o,c[0]],c[1]]})})}}}function ze(n,e,r,u){return{contents:function(a){return Hn(m(Zn(n,e,r).contents,a),function(t){var o=t[0],i=o[2],c=o[1],_=o[0];return rn(m(u.contents,t[1]),function(l){return[[_,c,i,l[0]],l[1]]})})}}}function bt(n,e,r,u,a){return{contents:function(t){return Hn(m(ze(n,e,r,u).contents,t),function(o){var i=o[0],c=i[3],_=i[2],l=i[1],h=i[0];return rn(m(a.contents,o[1]),function(b){return[[h,l,_,c,b[0]],b[1]]})})}}}function Ua(n,e,r,u,a,t){return{contents:function(o){return Hn(m(bt(n,e,r,u,a).contents,o),function(i){var c=i[0],_=c[4],l=c[3],h=c[2],b=c[1],V=c[0];return rn(m(t.contents,i[1]),function(T){return[[V,b,h,l,_,T[0]],T[1]]})})}}}function y_(n,e,r,u,a,t,o){return{contents:function(i){return Hn(m(Ua(n,e,r,u,a,t).contents,i),function(c){var _=c[0],l=_[5],h=_[4],b=_[3],V=_[2],T=_[1],O=_[0];return rn(m(o.contents,c[1]),function(nn){return[[O,T,V,b,h,l,nn[0]],nn[1]]})})}}}function B(n,e){return{contents:function(r){var u=m(n.contents,r);return u!==void 0?[u[0],u[1]]:m(e.contents,r)}}}function Be(n){return{contents:function(e){return Ae.firstSomeBy(n,function(r){return m(r.contents,e)})}}}function Oa(n,e,r){return d(fn(n,St(e)),function(u){var a=u[1],t=u[0];return Mn(a,[])?t:Sn(a,t,r)})}function Pe(n,e,r){return Oa(n,fn(e,n),function(u,a){return Co(r,u,a[0],a[1])})}function Re(n){return d(Zn(ut(function(e){return Mn(e,{TAG:2,_0:0})}),n,ut(function(e){return Mn(e,{TAG:2,_0:1})})),function(e){return e[1]})}function Sr(n){return d(Zn(ut(function(e){return Mn(e,{TAG:2,_0:8})}),n,ut(function(e){return Mn(e,{TAG:2,_0:9})})),function(e){return e[1]})}function x_(n,e){var r=function(u,a){var t=m(n.contents,u);if(t===void 0)return[a,u];var o=t[1];return a.push(t[0]),dn(m(e.contents,o),[a,o],function(i){return r(i[1],a)})};return{contents:function(u){return r(u,[])}}}function le(n){return x_(n,ut(function(e){return Mn(e,{TAG:2,_0:2})}))}function ve(n){return B(d(n,function(e){return J(e)}),{contents:function(e){return[void 0,e]}})}var Va=fn,za={contents:function(n){}},sn={contents:function(n){}},ot={contents:function(n){}},Ba={contents:function(n){}},te={contents:function(n){}},br=at(function(n){if(n.TAG===0)return{TAG:0,_0:{TAG:0,_0:n._0}}}),nf=at(function(n){if(n.TAG===1)return{TAG:0,_0:{TAG:1,_0:n._0}}}),re=at(function(n){if(n.TAG===3)return n._0}),Zt=at(function(n){if(n.TAG===4)return n._0}),kr=at(function(n){switch(n.TAG|0){case 3:case 4:return n._0;default:return}}),ef=d(fn(s({TAG:2,_0:0}),s({TAG:2,_0:1})),function(n){return Ne}),tf=B(ef,at(function(n){switch(n.TAG|0){case 3:switch(n._0){case"bool":return Vn;case"u32":return qn;default:return}case 4:return{TAG:2,_0:{TAG:0,_0:n._0}};default:return}})),Pa=B(tf,Re(te));function qa(n){if(n.TAG!==0)return-1;var e=n._0;return typeof e=="number"||e.TAG!==0?-1:e._0}var rf=B(d(Sr(Zn(te,s({TAG:2,_0:3}),br)),function(n){return sa(n[0],qa(n[2]))}),Pa),uf=B(d(Zn(B(Re(le(te)),d(Pa,function(n){return[n]})),s({TAG:2,_0:5}),te),function(n){return Ln(n[0],n[2])}),rf),af=B(d(ze(Zt,s({TAG:2,_0:18}),le(te),s({TAG:2,_0:20})),function(n){return{TAG:1,_0:n[0],_1:n[2]}}),uf);te.contents=af.contents;var of=d(fn(kr,ve(fn(s({TAG:2,_0:10}),te))),function(n){return[n[0],rn(n[1],function(e){return e[1]})]}),cf=d(B(re,kr),function(n){return{TAG:3,_0:n}}),_f=d(fn(s({TAG:2,_0:0}),s({TAG:2,_0:1})),function(n){return{TAG:0,_0:0}}),ff=d(Re(ze(sn,s({TAG:2,_0:2}),sn,ve(fn(s({TAG:2,_0:2}),le(sn))))),function(n){var e=tn([n[0],n[2]],dn(n[3],[],function(r){return r[1]}));return{TAG:13,_0:e}}),ja=Be([br,nf,_f,cf,ff,Re(sn)]),Za=B(Oa(ja,fn(s({TAG:2,_0:23}),re),function(n,e){return{TAG:16,_0:n,_1:e[1]}}),ja),Wa=B(d(fn(Za,I_(Re(le(sn)))),function(n){return Sn(n[1],n[0],function(e,r){return{TAG:7,_0:e,_1:r}})}),Za),sf=Be([d(s({TAG:2,_0:13}),function(n){return 2}),d(s({TAG:2,_0:12}),function(n){return 0}),d(s({TAG:2,_0:22}),function(n){return 1})]),lf=B(d(s({TAG:2,_0:11}),function(n){return 0}),d(s({TAG:2,_0:12}),function(n){return 1})),vf=Be([d(s({TAG:2,_0:13}),function(n){return 2}),d(s({TAG:2,_0:14}),function(n){return 3}),d(s({TAG:2,_0:15}),function(n){return 4})]),df=Be([d(s({TAG:2,_0:25}),function(n){return 11}),d(s({TAG:2,_0:27}),function(n){return 12})]),Tf=Be([d(s({TAG:2,_0:24}),function(n){return 13}),d(s({TAG:2,_0:26}),function(n){return 14}),d(Va(s({TAG:2,_0:18}),s({TAG:2,_0:18})),function(n){return 15}),d(Va(s({TAG:2,_0:20}),s({TAG:2,_0:20})),function(n){return 16})]),Gf=Be([d(s({TAG:2,_0:18}),function(n){return 5}),d(s({TAG:2,_0:19}),function(n){return 6}),d(s({TAG:2,_0:20}),function(n){return 7}),d(s({TAG:2,_0:21}),function(n){return 8})]),gf=B(d(s({TAG:2,_0:16}),function(n){return 9}),d(s({TAG:2,_0:17}),function(n){return 10})),hf=B(d(fn(sf,Wa),function(n){return{TAG:1,_0:n[0],_1:n[1]}}),Wa),Ef=Pe(hf,vf,function(n,e,r){return{TAG:2,_0:n,_1:e,_2:r}}),wf=Pe(Ef,lf,function(n,e,r){return{TAG:2,_0:n,_1:e,_2:r}}),Af=Pe(wf,df,function(n,e,r){return{TAG:2,_0:n,_1:e,_2:r}}),mf=Pe(Af,Tf,function(n,e,r){return{TAG:2,_0:n,_1:e,_2:r}}),pf=Pe(mf,Gf,function(n,e,r){return{TAG:2,_0:n,_1:e,_2:r}}),Sf=Pe(pf,gf,function(n,e,r){return{TAG:2,_0:n,_1:e,_2:r}}),bf=B(d(ze(s({TAG:5,_0:3}),sn,ot,ve(fn(s({TAG:5,_0:4}),ot))),function(n){return{TAG:9,_0:n[1],_1:n[2],_2:rn(n[3],function(e){return e[1]})}}),Sf),kf=B(d(Zn(s({TAG:5,_0:6}),sn,ot),function(n){return{TAG:10,_0:n[1],_1:n[2]}}),bf),Df=B(d(Ua(s({TAG:5,_0:0}),re,s({TAG:2,_0:4}),sn,s({TAG:5,_0:2}),sn),function(n){return{TAG:6,_0:n[1],_1:n[3],_2:n[5]}}),kf),Nf=B(Re(le(re)),d(re,function(n){return[n]})),Ff=B(d(Zn(Nf,s({TAG:2,_0:5}),sn),function(n){return{TAG:5,_0:n[0],_1:n[2]}}),Df),Rf=Q_(sn,function(n){switch(n.TAG|0){case 9:case 10:return[!0,{TAG:1,_0:n}];default:return}});ot.contents=B(d(bt(ve(s({TAG:5,_0:9})),s({TAG:2,_0:6}),St(B(d(Ba,function(n){return[!1,n]}),Rf)),ve(sn),s({TAG:2,_0:7})),function(n){var e=n[3],r=n[2],u=v(r,function(i){return i[1]}),a=dn(n[0],0,function(i){return 1}),t=Ue(r,r.length-1|0);if(t===void 0)return{TAG:8,_0:u,_1:e,_2:a};var o=t[1];return o.TAG===0||!(t[0]&&he(e))?{TAG:8,_0:u,_1:e,_2:a}:{TAG:8,_0:tr(u,0,r.length-1|0),_1:o._0,_2:a}}),Ff).contents;var $f=d(Sr(Zn(sn,s({TAG:2,_0:3}),br)),function(n){return{TAG:15,_0:{TAG:0,_0:n[0],_1:qa(n[2])}}}),Lf=d(Sr(le(sn)),function(n){return{TAG:15,_0:{TAG:1,_0:n}}}),Cf=B(B($f,Lf),ot),Mf=B(d(ze(Zt,s({TAG:2,_0:6}),le(Zn(re,s({TAG:2,_0:10}),sn)),s({TAG:2,_0:7})),function(n){return{TAG:14,_0:n[0],_1:v(n[2],function(e){return[e[0],e[2]]})}}),Cf),Xf=Be([d(s({TAG:2,_0:4}),function(n){return"eq"}),d(s({TAG:2,_0:28}),function(n){return"plusEq"}),d(s({TAG:2,_0:29}),function(n){return"minusEq"}),d(s({TAG:2,_0:30}),function(n){return"starEq"}),d(s({TAG:2,_0:31}),function(n){return"divEq"}),d(s({TAG:2,_0:32}),function(n){return"modEq"})]),Uf=Pe(Mf,Xf,function(n,e,r){return e==="minusEq"?{TAG:4,_0:n,_1:{TAG:2,_0:n,_1:1,_2:r}}:e==="divEq"?{TAG:4,_0:n,_1:{TAG:2,_0:n,_1:3,_2:r}}:e==="eq"?{TAG:4,_0:n,_1:r}:e==="starEq"?{TAG:4,_0:n,_1:{TAG:2,_0:n,_1:2,_2:r}}:e==="modEq"?{TAG:4,_0:n,_1:{TAG:2,_0:n,_1:4,_2:r}}:{TAG:4,_0:n,_1:{TAG:2,_0:n,_1:0,_2:r}}}),Of=B(d(fn(s({TAG:5,_0:7}),ve(sn)),function(n){return{TAG:11,_0:n[1]}}),Uf),Vf=d(fn(Of,ve(fn(s({TAG:5,_0:8}),te))),function(n){var e=n[1],r=n[0];return e!==void 0?{TAG:12,_0:r,_1:e[1]}:r});sn.contents=Vf.contents;var zf=d(fn(sn,s({TAG:2,_0:3})),function(n){return{TAG:1,_0:n[0]}}),Bf=B(d(bt(B(s({TAG:5,_0:0}),s({TAG:5,_0:1})),of,s({TAG:2,_0:4}),sn,s({TAG:2,_0:3})),function(n){var e=n[1];return{TAG:0,_0:e[0],_1:Mn(n[0],{TAG:5,_0:1}),_2:n[3],_3:e[1]}}),zf);Ba.contents=Bf.contents;var Pf=d(bt(B(s({TAG:5,_0:0}),s({TAG:5,_0:1})),kr,s({TAG:2,_0:4}),sn,s({TAG:2,_0:3})),function(n){return{TAG:1,_0:n[1],_1:Mn(n[0],{TAG:5,_0:1}),_2:n[3]}}),qf=B(d(bt(s({TAG:5,_0:10}),Zt,s({TAG:2,_0:6}),le(Zn(fn(ve(s({TAG:5,_0:1})),re),s({TAG:2,_0:10}),te)),s({TAG:2,_0:7})),function(n){var e=v(n[3],function(r){var u=r[0];return[u[1],r[2],Xt(u[0])]});return{TAG:2,_0:n[1],_1:e}}),Pf),Ja=B(d(ze(s({TAG:5,_0:5}),re,d(Re(le(fn(ve(s({TAG:5,_0:1})),re))),function(n){return v(n,function(e){return[e[1],Xt(e[0])]})}),ot),function(n){return{TAG:0,_0:n[1],_1:n[2],_2:n[3]}}),qf),jf=B(d(y_(s({TAG:5,_0:12}),s({TAG:5,_0:5}),re,Re(d(le(ze(ve(s({TAG:5,_0:1})),re,s({TAG:2,_0:10}),te)),function(n){return v(n,function(e){return[e[1],e[3],Xt(e[0])]})})),s({TAG:2,_0:5}),te,s({TAG:2,_0:3})),function(n){return{TAG:4,name:n[2],args:n[3],ret:n[5]}}),Ja),Zf=B(d(Zn(s({TAG:5,_0:11}),Zt,d(Zn(s({TAG:2,_0:6}),St(Ja),s({TAG:2,_0:7})),function(n){return n[1]})),function(n){return{TAG:3,_0:n[1],_1:n[2]}}),jf);za.contents=Zf.contents;var Wf=St(za);function Wt(n){var e=n.replace(/(\/\/[^\n]*)/g,""),r=J_(h0(e));if(r===void 0)return{TAG:1,_0:"could not tokenize"};var u=m(Wf.contents,Na(r[0]));if(u===void 0)return{TAG:1,_0:"could not parse"};var a=u[1];if(mr(a))return{TAG:0,_0:u[0]};var t=A(tr(E0(a),0,5)," ",H_);return{TAG:1,_0:"could not parse near "+t}}function Jf(n,e){var r=n!==void 0?n:100,u={contents:e.length},a=function(t,o,i){for(;;){var c=i,_=o,l=t;if(l){var h=l.hd,b=0;if(typeof h=="number")switch(h){case 2:var V=l.tl;if(V&&V.hd===3){t={hd:2,tl:V.tl};continue}break;case 9:var T=l.tl;if(T&&T.hd===9){t=T.tl;continue}break;case 10:var O=l.tl;if(O&&O.hd===9){t={hd:14,tl:O.tl};continue}break;case 14:var nn=l.tl;if(nn&&nn.hd===9){t={hd:10,tl:nn.tl};continue}break;case 18:var vn=l.tl;if(vn&&vn.hd===9){t={hd:36,tl:vn.tl};continue}break;case 19:var Fn=l.tl;if(Fn&&Fn.hd===9){t={hd:37,tl:Fn.tl};continue}break;case 24:var An=l.tl;if(An&&An.hd===9){t={hd:30,tl:An.tl};continue}break;case 25:var bn=l.tl;if(bn&&bn.hd===9){t={hd:31,tl:bn.tl};continue}break;case 30:var kn=l.tl;if(kn&&kn.hd===9){t={hd:24,tl:kn.tl};continue}break;case 31:var mn=l.tl;if(mn&&mn.hd===9){t={hd:25,tl:mn.tl};continue}break;case 36:var Gn=l.tl;if(Gn&&Gn.hd===9){t={hd:18,tl:Gn.tl};continue}break;case 37:var un=l.tl;if(un&&un.hd===9){t={hd:19,tl:un.tl};continue}break}else switch(h.TAG|0){case 0:var L=h._0,Un=0,pn=l.tl;if(pn){var Dn=pn.hd;if(typeof Dn=="number")switch(Dn){case 3:t=pn.tl;continue;case 6:if(fa.isPowerOf2(L)){t={hd:{TAG:0,_0:Math.log2(L)|0},tl:{hd:46,tl:pn.tl}};continue}break;case 7:if(fa.isPowerOf2(L)){t={hd:{TAG:0,_0:Math.log2(L)|0},tl:{hd:48,tl:pn.tl}};continue}break;default:Un=3}else switch(Dn.TAG|0){case 0:var en=pn.tl;if(en){var Nn=en.hd;if(typeof Nn=="number"){var Rn=Dn._0;if(Nn>=15){if(Nn>=43)switch(Nn){case 43:t={hd:{TAG:0,_0:Mo(L,Rn)},tl:en.tl};continue;case 46:t={hd:{TAG:0,_0:L<<Rn},tl:en.tl};continue;case 44:case 45:case 47:break;case 48:t={hd:{TAG:0,_0:L>>>Rn|0},tl:en.tl};continue}}else switch(Nn){case 4:t={hd:{TAG:0,_0:L+Rn|0},tl:en.tl};continue;case 5:t={hd:{TAG:0,_0:L-Rn|0},tl:en.tl};continue;case 6:t={hd:{TAG:0,_0:Math.imul(L,Rn)},tl:en.tl};continue;case 7:t={hd:{TAG:0,_0:Xo(L,Rn)},tl:en.tl};continue;case 10:t={hd:{TAG:0,_0:L===Rn?1:0},tl:en.tl};continue;case 0:case 1:case 2:case 3:case 8:case 9:case 11:case 12:case 13:break;case 14:t={hd:{TAG:0,_0:L===Rn?0:1},tl:en.tl};continue}}}break;case 15:t={hd:{TAG:14,_0:L},tl:pn.tl};continue;default:Un=3}}if(Un===3&&L===0){var ae=l.tl,Wn=ae.hd;if(typeof Wn=="number"){if(Wn>=46){if(Wn!==47){t=ae.tl;continue}}else if(Wn===10){t={hd:9,tl:ae.tl};continue}}}break;case 1:case 2:case 3:case 9:case 11:b=2;break;case 12:var Jn=l.tl;if(Jn){var Le=Jn.hd;if(typeof Le!="number"&&Le.TAG===11){var oe=h._0;if(oe===Le._0){t={hd:{TAG:13,_0:oe},tl:Jn.tl};continue}}}break;case 13:var ie=l.tl;if(ie&&ie.hd===3){t={hd:{TAG:12,_0:h._0},tl:ie.tl};continue}break}if(b===2){var de=l.tl;if(de&&de.hd===3){t=de.tl;continue}}o={hd:h,tl:_},t=l.tl;continue}var Kn=zr(_),Yn=Uo(Kn);if(!(c>1&&Yn<u.contents))return Kn;u.contents=Yn,i=c-1|0,o=0,t=Kn}};return r>0?Ie(a(dt(e),0,r)):e}function Dr(n,e){switch(e.TAG|0){case 0:return n===e._0;case 1:return ar(e._1,function(u){return Dr(n,u)});case 2:var r=e._0;return r.TAG===0?!1:ar(zn.toArray(r._0),function(u){return Dr(n,u[1])})}}function Ka(n,e,r){if(Dr(n,e))return{TAG:1,_0:k({TAG:0,_0:n})+" occurs in "+k(e)};var u=Kr(r,n);return u!==void 0?Mn(u,e)?{TAG:0,_0:r}:{TAG:1,_0:k(e)+" is not unifiable with "+k(u)}:{TAG:0,_0:xr(r,n,e)}}function it(n,e){for(;;){var r=n;if(!r)return{TAG:0,_0:e};var u=r.tl,a=r.hd,t=a[1],o=a[0],i=0;switch(o.TAG|0){case 0:var c=o._0,_=0;switch(t.TAG|0){case 0:if(c===t._0){n=u;continue}_=3;break;case 1:case 2:_=3;break}if(_===3)return N(Ka(c,t,e),function(un){return function(L){return it(un,L)}}(u));break;case 1:var l=o._1;switch(t.TAG|0){case 0:i=1;break;case 1:var h=t._1;if(o._0===t._0&&l.length===h.length){var b=Sn(Oe(l,h),u,function(un,L){return{hd:[E(e,L[0]),E(e,L[1])],tl:un}});n=b;continue}i=2;break;case 2:i=2;break}break;case 2:var V=o._0;switch(t.TAG|0){case 0:i=1;break;case 1:i=2;break;case 2:var T=t._0;if(V.TAG===0){var O=V._0;if(T.TAG===0){if(O!==T._0)return{TAG:1,_0:"cannot unify "+k(o)+" with "+k(t)};n=u;continue}var nn=ee(O);if(nn===void 0)return{TAG:1,_0:'undeclared struct "'+O+'"'};var vn=it({hd:[{TAG:2,_0:{TAG:1,_0:T._0}},tt.toPartialStructType(nn,me())],tl:u},e);return vn.TAG===0?{TAG:0,_0:vn._0}:{TAG:1,_0:"struct type "+k(t)+" does not match "+O+": "+vn._0}}var Fn=V._0;if(T.TAG===0){var An=T._0,bn=ee(An);if(bn===void 0)return{TAG:1,_0:'undeclared struct "'+An+'"'};var kn=it({hd:[{TAG:2,_0:{TAG:1,_0:Fn}},tt.toPartialStructType(bn,me())],tl:u},e);return kn.TAG===0?{TAG:0,_0:kn._0}:{TAG:1,_0:"struct type "+k(o)+" does not match "+An+": "+kn._0}}var mn=zn.toMap(T._0),Gn=zn.toArray(Fn);return N(Ae.mapResult(v(Gn,function(un,L,Un){return function(pn){var Dn=pn[0],en=er(Un,Dn);return en!==void 0?{TAG:0,_0:[pn[1],en]}:{TAG:1,_0:"struct type "+k(L)+' is missing attribute "'+Dn+'" from type "'+k(un)+'"'}}}(o,t,mn)),function(un){return un}),function(un,L,Un,pn){return function(Dn){var en={TAG:2,_0:{TAG:1,_0:zn.fromArray(jr(Oo(Un,v(pn,function(Nn){return Nn[0]}))),me())}};return it(Vo(dt(Dn),{hd:[zn.tail(L),en],tl:un}),e)}}(u,Fn,mn,Gn))}break}switch(i){case 1:return N(Ka(t._0,o,e),function(un){return function(L){return it(un,L)}}(u));case 2:return{TAG:1,_0:k(o)+" is not unifiable with "+k(t)}}}}function an(n,e){return it({hd:[n,e],tl:0},void 0)}function Kf(n,e){return"cannot infer struct type: inferred type "+zn.show(n,k)+" matches "+A(e,", ",function(r){return r.name})}function Nr(n){var e=zo(nu(jn.structs),function(a){return Bo(an({TAG:2,_0:{TAG:1,_0:n}},tt.toPartialStructType(a,me())),void 0,function(t){return a})}),r=e.length;if(r!==1)return r!==0?{TAG:1,_0:e}:0;var u=e[0];return{TAG:0,_0:u}}function Yf(n){var e;return e=typeof n=="number"?Ne:n.TAG===0?qn:Vn,et(e)}function Hf(n){var e=0;if(n>=5)switch(n){case 5:case 6:case 7:case 8:e=2;break;case 9:case 10:e=3;break;case 11:case 12:return et(Ln([Vn,Vn],Vn));case 13:case 14:case 15:case 16:e=1;break}else e=1;switch(e){case 1:return et(Ln([qn,qn],qn));case 2:return et(Ln([qn,qn],Vn));case 3:return[[0],Ln([{TAG:0,_0:0},{TAG:0,_0:0}],Vn)]}}function Qf(n){switch(n){case 0:return et(Ln([qn],qn));case 1:return et(Ln([Vn],Vn));case 2:return[[0],Ln([Kc({TAG:0,_0:0})],{TAG:0,_0:0})]}}var ct=or();function Ya(n,e,r,u,a){var t=Cn.typeOf(r);Gt(ct,t);var o=Sn(e,n,function(_,l){return Xn.addMono(_,l.contents.name,l.contents.ty)}),i=Ln(v(e,function(_){return _.contents.ty}),t),c=a!==void 0?Xn.addMono(o,a,i):o;return N(wn(c,r,t),function(_){var l=E(_,i),h=E(_,u),b=Tn(_,n),V=Tr(b,l);return K(an(h,l),function(T){Tt(ct);var O=U(T,_);return[O,E(T,h),ha(T,V)]})})}function wn(n,e,r){return N(ue(n,e),function(u){return K(an(E(u,r),E(u,Cn.typeOf(e))),function(a){return U(a,u)})})}function ue(n,e){switch(e.TAG|0){case 0:var r=qt(Yf(e._0));return an(Cn.typeOf(e),r);case 1:var u=e._3,a=e._2,t=e._1,o=e._0;return N(ue(n,t),function(f){var p=Tn(f,n);return N(ue(p,u),function(S){var D=U(S,f),M=E(D,Ln([Cn.typeOf(t),Cn.typeOf(u)],o)),X=qt(Hf(a));return K(an(M,X),function(I){return U(I,D)})})});case 2:var i=e._2,c=e._1,_=e._0,l=Cn.typeOf(i);return N(ue(n,i),function(f){var p=E(f,Ln([l],_)),S=qt(Qf(c));return K(an(p,S),function(D){return U(D,f)})});case 3:var h=e._0.contents,b=Xn.get(n,h.name);if(b!==void 0)return an(h.ty,qt(b));var V=ee(h.name);if(V===void 0)return{TAG:1,_0:'unbound variable: "'+h.name+'"'};var T={TAG:2,_0:{TAG:1,_0:zn.fromArray(v(V.staticFuncs,function(f){var p=f.name;return[p.contents.name,p.contents.ty]}),me())}};return an(h.ty,T);case 4:var O=e._1,nn=e._0,vn=En.typeOfExpr(nn),Fn=En.typeOfExpr(O);return N(ue(n,O),function(f){var p=Tn(f,n),S=E(f,vn);return N(wn(p,nn,S),function(D){var M=U(D,f),X=E(D,S),I=E(M,Fn);return K(an(X,I),function(W){return U(W,M)})})});case 5:return K(Ya(n,e._1,e._2,e._0,void 0),function(f){return f[0]});case 6:var An=e._4,bn=e._3,kn=e._0,mn=e._2.contents,Gn=Cn.typeOf(bn);return N(ue(n,bn),function(f){var p=Tn(f,n),S=E(f,Gn),D=E(f,kn),M=Tr(Xn.remove(p,mn.name),S),X=Xn.add(p,mn.name,M);return N(wn(X,An,D),function(I){var W=U(I,f);return K(an(E(W,Gn),E(W,mn.ty)),function(Bn){return U(Bn,W)})})});case 7:var un=e._4,L=e._3,Un=e._2,pn=e._0,Dn=e._1.contents,en=Cn.typeOf(L);Gt(ct,en);var Nn=Ln(v(Un,function(f){return f.contents.ty}),en),Rn=Sn(Un,n,function(f,p){return Xn.addMono(f,p.contents.name,p.contents.ty)}),ae=Xn.addMono(Rn,Dn.name,Nn);return N(wn(ae,L,en),function(f){var p=Tn(f,ae),S=E(f,Nn),D=E(f,pn),M=Xn.add(p,Dn.name,Tr(p,S));return N(wn(M,un,D),function(X){var I=U(X,f);return K(an(Dn.ty,E(X,S)),function(W){return Tt(ct),U(W,I)})})});case 8:var Wn=e._2,Jn=v(Wn,Cn.typeOf),Le=Ln(Jn,e._0);return K(N(wn(n,e._1,Le),function(f){return Sn(Oe(Wn,Jn),{TAG:0,_0:[f,Tn(f,n)]},function(p,S){var D=S[1],M=S[0];return N(p,function(X){var I=X[1],W=X[0],Bn=E(W,D);return K(wn(I,M,Bn),function(ge){return[U(ge,W),Tn(ge,I)]})})})}),function(f){return f[0]});case 9:var oe=e._2,ie=e._0;return N(Sn(e._1,{TAG:0,_0:[void 0,n]},function(f,p){return N(f,function(S){var D=S[1],M=S[0];return K(If(D,p),function(X){return[U(X,M),Tn(X,D)]})})}),function(f){var p=f[0];return oe!==void 0?N(ue(Tn(p,n),oe),function(S){var D=Cn.typeOf(oe),M=U(S,p);return K(an(E(M,ie),E(M,D)),function(X){return U(X,M)})}):K(an(E(p,ie),Ne),function(S){return U(S,p)})});case 10:var de=e._3,Kn=e._2,Yn=e._0;return N(wn(n,e._1,Vn),function(f){var p=Tn(f,n),S=E(f,Yn);return N(wn(p,Kn,S),function(D){var M=Tn(D,p),X=E(D,S),I=U(D,f);return K(wn(M,de,X),function(W){return U(W,I)})})});case 11:var Ze=e._1,It=Cn.typeOf(Ze);return N(ue(n,e._0),function(f){var p=E(f,It),S=Tn(f,n);return K(wn(S,Ze,p),function(D){return U(D,f)})});case 12:var We=ye(ct);return We!==void 0?wn(n,dn(e._0,{TAG:0,_0:0},function(f){return f}),We):{TAG:1,_0:"'return' used outside of a function"};case 13:return wn(n,e._0,e._1);case 14:var Dt=Sn(e._0,{TAG:0,_0:[Ve,n]},function(f,p){return N(f,function(S){var D=S[1],M=S[0];return N(ue(D,p),function(X){var I=U(X,M),W=Tn(X,D);return{TAG:0,_0:[I,W]}})})});return K(Dt,function(f){return f[0]});case 15:var _t=e._1,Ce=e._0,Je=ee(Ce);if(Je===void 0)return{TAG:1,_0:'undeclared struct "'+Ce+'"'};var Ke=Je.attributes,Nt=Sn(Lt(Ke,function(f){return he(f.impl)}),{TAG:0,_0:[n,Ve]},function(f,p){var S=p.ty,D=p.name;return N(f,function(M){var X=M[1],I=M[0],W=Ct(_t,function(Bn){return Bn[0]===D});return W!==void 0?N(wn(I,W[1],S),function(Bn){var ge=Tn(Bn,I),ke=U(Bn,X);return{TAG:0,_0:[ge,ke]}}):{TAG:1,_0:'missing attribute "'+D+'" for struct "'+Ce+'"'}})}),ft=Ae.firstSomeBy(_t,function(f){var p=f[0];if(!ar(Ke,function(S){return S.name===p}))return p});return ft!==void 0?{TAG:1,_0:'extraneous attribute: "'+ft+'" for struct "'+Ce+'"'}:K(Nt,function(f){return f[1]});case 16:var Me=e._1,yt=e._0,Ye=At(),C;if(Me.TAG===0)C=wn(n,Me._0,Ye);else{var Q=Sn(Me._0,{TAG:0,_0:[Ve,n]},function(f,p){return N(f,function(S){var D=S[1],M=S[0];return N(wn(D,p,Ye),function(X){var I=U(X,M),W=Tn(X,D);return{TAG:0,_0:[I,W]}})})});C=K(Q,function(f){return f[0]})}var Ft=m(En.ArrayInit.len,Me);return N(C,function(f){return K(an(yt,sa(Ye,Ft)),function(p){return U(p,f)})});case 17:var Te=e._2,st=e._1,Ge=e._0;return N(ue(n,st),function(f){var p=En.typeOfExpr(st),S=E(f,p),D=function(F){return eu(S,E(F,p))?wn(Tn(F,n),e,E(F,Ge)):{TAG:0,_0:F}};switch(S.TAG|0){case 0:case 1:break;case 2:var M=S._0;if(M.TAG===0){var X=M._0,I=ee(X);if(I===void 0)return{TAG:1,_0:'undeclared struct: "'+X+'"'};var W=Ct(I.attributes,function(F){return F.name===Te});if(W===void 0)return{TAG:1,_0:'attribute "'+Te+'" does not exist on struct "'+X+'"'};var Bn=dn(W.impl,W.ty,function(F){return F[0].contents.ty});return K(an(E(f,Ge),E(f,Bn)),function(F){return U(F,f)})}var ge=M._0,ke=er(zn.toMap(ge),Te);if(ke!==void 0)return K(an(E(f,Ge),E(f,ke)),function(F){return U(F,f)});var He=zn.insert(ge,Te,Ge),Xe=E(f,{TAG:2,_0:{TAG:1,_0:He}}),Qe=Nr(He);if(typeof Qe!="number")return Qe.TAG===0?N(an(S,{TAG:2,_0:{TAG:0,_0:Qe._0.name}}),function(F){return D(U(F,f))}):N(an(S,Xe),function(F){return D(U(F,f))});var lt=0;switch(p.TAG|0){case 0:return{TAG:0,_0:U(xr(Ve,p._0,Xe),f)};case 1:case 2:lt=2;break}if(lt===2)return K(an(p,Xe),function(F){return U(F,f)});break}var Rt=me(),z=zn.insert(zn.make({TAG:0,_0:Rt}),Te,Ge),cn=E(f,{TAG:2,_0:{TAG:1,_0:z}}),gn=Nr(z);return typeof gn=="number"?{TAG:1,_0:"no struct declaration matches type "+k(cn)}:gn.TAG===0?N(an(S,{TAG:2,_0:{TAG:0,_0:gn._0.name}}),function(F){return D(U(F,f))}):N(an(S,cn),function(F){return D(U(F,f))})})}}function If(n,e){return ue(n,e._0)}function Fr(n,e){return n+"_"+e}function Ha(n,e){switch(e.TAG|0){case 0:var r=e._0.contents;return K(Ya(n,v(e._1,function(c){return c[0]}),e._2,r.ty,r.newName),function(c){var _=c[0];return[Tn(_,Xn.addMono(n,r.name,r.ty)),_]});case 1:var u=e._0;return K(wn(n,e._2,u.contents.ty),function(c){return[Tn(c,Xn.addMono(n,u.contents.name,u.contents.ty)),c]});case 2:return{TAG:0,_0:[n,Ve]};case 3:var a=e._0,t=ee(a);return t!==void 0?Sn(e._1,{TAG:0,_0:[n,Ve]},function(c,_){var l=_[2],h=_[1],b=_[0];return N(c,function(V){var T=V[1],O=V[0];b.contents.newName=Fr(a,b.contents.name);var nn=dn(Ue(h,0),[!1,!1],function(Gn){return Gn[0].contents.name==="self"?[!0,Gn[1]]:[!1,!1]}),vn;if(nn[0]){tt.addImplementation(t,b,nn[1]);var Fn=Mn(h,[])?[]:qo(h,1),An={TAG:2,_0:{TAG:0,_0:a}},bn=Ue(h,0),kn;if(bn!==void 0){var mn=bn[0];mn.contents.ty=An,kn=Xn.addMono(O,mn.contents.name,An)}else kn=O;vn=[kn,Fn]}else tt.addStaticFunc(t,b),vn=[n,h];return N(Ha(vn[0],{TAG:0,_0:b,_1:vn[1],_2:l}),function(Gn){var un=U(Gn[1],T);Ea(un,b);var L=Xn.remove(Gn[0],b.contents.name);return{TAG:0,_0:[L,un]}})})}):{TAG:1,_0:'cannot implement for unknown type "'+a+'"'};case 4:var o=e.name,i=Ln(v(e.args,function(c){return c[0].contents.ty}),e.ret);return K(an(o.contents.ty,i),function(c){return[Tn(c,Xn.addMono(n,o.contents.name,o.contents.ty)),c]})}}function Qa(n){return Po(ct),Sn(n,{TAG:0,_0:[Xn.empty,Ve]},function(e,r){return N(e,function(u){var a=u[1];return K(Ha(u[0],r),function(t){return[t[0],U(t[1],a)]})})})}var Se=hn("CompilerExn.InvalidTypeConversion"),Rr=hn("CompilerExn.InvalidFunctionSignature"),Jt=hn("CompilerExn.VariableNotFound"),Ia=hn("CompilerExn.EmptyFunctionStack"),qe=hn("CompilerExn.CannotReassignImmutableValue"),ya=hn("CompilerExn.FunctionNotFound"),$e=hn("CompilerExn.Unimplemented"),yf=hn("CompilerExn.UnsupportedGlobalInitializer"),ln=hn("CompilerExn.InvalidTypeAssertion"),xa=hn("CompilerExn.DerefUsedOutsideOfUnsafeBlock"),no=hn("CompilerExn.UndeclaredStruct"),Kt=hn("CompilerExn.InvalidAttributeAccess"),eo=hn("CompilerExn.StructTypeNotMatched"),to=hn("CompilerExn.AmibguousStruct");function kt(n){return n.RE_EXN_ID===Se?"unsupported type: "+k(n._1):n.RE_EXN_ID===Rr?"invalid function signature: "+k(n._1):n.RE_EXN_ID===Jt?'variable "'+n._1+'" not found':n.RE_EXN_ID===Ia?"Function stack is empty":n.RE_EXN_ID===qe?'cannot mutate "'+n._1+'" as it is behind an immutable binding':n.RE_EXN_ID===ya?'no function named "'+n._1+'" found':n.RE_EXN_ID===$e?"unimplemented: "+n._1:n.RE_EXN_ID===yf?"unsupported global initializer: "+Cn.show(void 0,n._1):n.RE_EXN_ID===ln?"invalid type assertion from "+k(n._1)+" to "+k(n._2):n.RE_EXN_ID===xa?"the deref operator can only be used in an unsafe block":n.RE_EXN_ID===xn.UnkownTypeSize?"unknown type size: "+k(n._1):n.RE_EXN_ID===no?'undeclared struct "'+n._1+'"':n.RE_EXN_ID===Kt?n._1+' does not exist for type "'+k(n._2)+'"':n.RE_EXN_ID===eo?"No struct declaration matches type "+k(n._1):n.RE_EXN_ID===to?Kf(n._1,n._2):n.RE_EXN_ID===En.UndeclaredIdentifer?'identifier "'+n._1+'" not found':n.RE_EXN_ID===En.UnexpectedDeclarationInImplBlock?"unexpected declaration in impl block: "+Fe.show(void 0,n._1):n.RE_EXN_ID===En.UnreachableLetStmt?"unreachable: let statement found in Core.fromStmt":"unexpected compiler exception"}function xf(n,e,r,u){return{name:n,depth:e,ty:r,isMutable:u}}function $r(n){if(n.TAG===0){var e=n._0,r=ee(e);if(r!==void 0)return r;throw{RE_EXN_ID:no,_1:e,Error:new Error}}var u=n._0,a=Nr(u);if(typeof a=="number")throw{RE_EXN_ID:eo,_1:{TAG:2,_0:n},Error:new Error};if(a.TAG===0)return a._0;throw{RE_EXN_ID:to,_1:u,_2:a._0,Error:new Error}}function je(n){switch(n.TAG|0){case 0:throw{RE_EXN_ID:Se,_1:n,Error:new Error};case 1:switch(n._0){case"()":if(n._1.length!==0)throw{RE_EXN_ID:Se,_1:n,Error:new Error};return[];case"Array":var e=n._1;if(e.length!==2)throw{RE_EXN_ID:Se,_1:n,Error:new Error};var r=e[1];switch(r.TAG|0){case 1:if(r._1.length!==0)throw{RE_EXN_ID:Se,_1:n,Error:new Error};return[0];case 0:case 2:throw{RE_EXN_ID:Se,_1:n,Error:new Error}}case"Fun":case"Ptr":return[0];case"Tuple":return on(v(n._1,je));case"bool":case"u32":break;case"u64":if(n._1.length!==0)throw{RE_EXN_ID:Se,_1:n,Error:new Error};return[1];default:throw{RE_EXN_ID:Se,_1:n,Error:new Error}}if(n._1.length!==0)throw{RE_EXN_ID:Se,_1:n,Error:new Error};return[0];case 2:var u=$r(n._0);return u.size===0?[]:[0]}}function ns(n,e){switch(e.TAG|0){case 1:if(e._0==="Tuple"){var r=on(v(e._1,je)),u=[],a={_0:u,_1:r},t=Pn.getOrAddSignature(n,a);return{TAG:1,_0:t,_1:[[],r]}}break}var o=je(e),i=o.length;if(i!==1){if(i===0)return 0;throw{RE_EXN_ID:$e,_1:"wasmBlockReturnTypeOf for "+k(e),Error:new Error}}var c=o[0];return{TAG:0,_0:c}}function Lr(n){switch(n.TAG|0){case 1:if(n._0==="Fun"){var e=n._1,r=e.slice(0,e.length-1|0),u=Ue(e,e.length-1|0);return tu(ht.Signature.make,on(v(r,je)),dn(u,[],je))}throw{RE_EXN_ID:Rr,_1:n,Error:new Error};case 0:case 2:throw{RE_EXN_ID:Rr,_1:n,Error:new Error}}}function Cr(n,e,r){return{name:n,locals:[],params:Lt(e,function(u){return!xn.isZeroSizedType(u[1])}),ret:r,instructions:[]}}function g(n,e){n.instructions.push(e)}function es(n,e,r,u,a){return n.locals.push(xf(e,u,r,a)),(n.params.length+n.locals.length|0)-1|0}function ts(n,e){var r=nr(n.params,function(t){return t[0]===e});if(r!==void 0){var u=Ee(n.params,r);return[r,u[2]]}var a=Ae.getReverseIndexBy(n.locals,function(t){return t.name===e});if(a!==void 0)return[n.params.length+a|0,Ee(n.locals,a).isMutable]}function rs(n){var e=Lr(Ln(v(n.params,function(a){return a[1]}),n.ret)),r=m(ht.Local.fromTypes,on(v(n.locals,function(a){return v(je(a.ty),function(t){return[a.name,t]})}))),u=tu(ht.Body.make,r,Jf(void 0,n.instructions));return ht.make(n.name,e,u)}function ro(n,e,r,u,a){return{name:n,mutability:e,ty:r,index:u,init:a}}function us(n){var e=n.init,r=n.mutability;return rn(n.ty,function(u){return Et.make(r!==2,u,e)})}function G(n){var e=ye(n.funcStack);if(e!==void 0)return e;throw{RE_EXN_ID:Ia,Error:new Error}}function Mr(n,e){return rn(Ae.getValueAndIndexBy(n.funcs,function(r){return r.name===e}),function(r){var u=n.externFuncs.length;return[r[0],u+r[1]|0]})}function as(n,e){return Ae.getValueAndIndexBy(n.externFuncs,function(r){return r.name===e})}function uo(n,e){var r=ye(n.blockStack);if(r!==void 0&&!(e<=0)){var u=r.shadowStackDelta;return u.contents=u.contents+e|0,g(G(n),{TAG:9,_0:n.stackTop.index}),g(G(n),{TAG:0,_0:e}),g(G(n),5),g(G(n),{TAG:10,_0:n.stackTop.index})}}function os(n,e){var r=ye(n.blockStack);if(r!==void 0&&!(e<=0)){var u=r.shadowStackDelta;return u.contents=u.contents-e|0,g(G(n),{TAG:9,_0:n.stackTop.index}),g(G(n),{TAG:0,_0:e}),g(G(n),4),g(G(n),{TAG:10,_0:n.stackTop.index})}}function ao(n){var e=ye(n.blockStack);return e!==void 0?e.isUnsafe:!1}function oo(n,e){return n.scopeDepth=n.scopeDepth+1|0,Gt(n.blockStack,{isUnsafe:e||ao(n),shadowStackDelta:{contents:0}})}function is(n){n.scopeDepth=n.scopeDepth-1|0,os(n,dn(ye(n.blockStack),0,function(e){return e.shadowStackDelta.contents})),Tt(n.blockStack)}function Xr(n,e,r,u){var a=G(n),t=es(a,e,r,n.scopeDepth,u);return g(G(n),{TAG:12,_0:t}),t}function io(n,e,r,u,a){var t=Wo(n.globals),o=ro(e,r,u,t,a);return ur(n.globals,e,o),t}function cs(n,e){var r=G(n);return rn(ts(r,e),function(u){return{index:u[0],isMutable:u[1]}})}function Yt(n,e){var r=cs(n,e);return r!==void 0?{TAG:0,_0:r.index,_1:r.isMutable}:rn(Hr(n.globals,e),function(u){return{TAG:1,_0:u.index,_1:u.mutability===1}})}function _s(n){if(typeof n!="number")return n.TAG===0?{TAG:0,_0:n._0}:{TAG:0,_0:n._0?1:0}}function co(n){if(!ao(n))throw{RE_EXN_ID:xa,Error:new Error}}function Ht(n,e,r){switch(e.TAG|0){case 0:case 1:return{TAG:1,_0:{RE_EXN_ID:Kt,_1:r,_2:e}};case 2:var u=$r(e._0),a=Ct(u.attributes,function(i){return i.name===r});if(a===void 0)return{TAG:1,_0:{RE_EXN_ID:Kt,_1:r,_2:e}};var t=a.impl;if(t===void 0)return{TAG:0,_0:{TAG:0,_0:{offset:a.offset,ty:a.ty,size:a.size,mut:a.mut}}};var o=Mr(n,Fr(u.name,t[0].contents.name));return o!==void 0?{TAG:0,_0:{TAG:1,_0:[o[0],o[1],t[1]]}}:{TAG:1,_0:{RE_EXN_ID:Kt,_1:r,_2:e}}}}function _o(n){return ne(void 0,"$lambda"+String(n.funcs.length))}function fo(n,e){var r=n!==void 0?n:"",u=G(e);return"$"+r+"_local"+String(u.locals.length)}function Qt(n,e){for(;;){var r=e;switch(r.TAG|0){case 3:var u=r._0,a=Yt(n,u.contents.newName);if(a!==void 0)return a._1?void 0:u.contents.name;throw{RE_EXN_ID:Jt,_1:u.contents.name,Error:new Error};case 17:var t=r._2,o=r._1,i=Ht(n,En.typeOfExpr(o),t);if(i.TAG===0){var c=i._0;if(c.TAG!==0)return;if(!c._0.mut)return t;e=o;continue}throw i._0;default:return}}}function y(n,e){for(;;){var r=e;switch(r.TAG|0){case 0:var u=_s(r._0);return u!==void 0?g(G(n),u):void 0;case 1:var a=r._3,t=r._2,o=r._1;if(xn.isZeroSizedType(En.typeOfExpr(o))){e={TAG:0,_0:{TAG:1,_0:t===9}};continue}var i=function(z,cn){return function(F){return y(n,z),y(n,cn),g(G(n),F)}}(o,a);switch(t){case 0:return i(4);case 1:return i(5);case 2:return i(6);case 3:return i(7);case 4:return i(43);case 5:return i(31);case 6:return i(19);case 7:return i(37);case 8:return i(25);case 9:return i(10);case 10:return i(14);case 11:e={TAG:10,_0:Vn,_1:o,_2:a,_3:{TAG:0,_0:{TAG:1,_0:!1}}};continue;case 12:e={TAG:10,_0:Vn,_1:o,_2:{TAG:0,_0:{TAG:1,_0:!0}},_3:a};continue;case 13:return i(44);case 14:return i(45);case 15:return i(46);case 16:return i(48)}case 2:var c;switch(r._1){case 0:throw{RE_EXN_ID:$e,_1:"u32 negation is not handled",Error:new Error};case 1:c=9;break;case 2:co(n),c={TAG:16,_0:0,_1:0};break}return y(n,r._2),g(G(n),c);case 3:var _=r._0;if(xn.isZeroSizedType(_.contents.ty))return;var l=Yt(n,_.contents.newName);if(l!==void 0)return l.TAG===0?g(G(n),{TAG:11,_0:l._0}):g(G(n),{TAG:9,_0:l._0});throw{RE_EXN_ID:Jt,_1:_.contents.name,Error:new Error};case 4:var h=r._1,b=r._0;if(xn.isZeroSizedType(En.typeOfExpr(h)))return;switch(b.TAG|0){case 2:if(b._1>=2){co(n),y(n,b._2),y(n,h);var V=xn.sizeLog2(En.typeOfExpr(h)),T={TAG:17,_0:V,_1:0};return g(G(n),T)}throw{RE_EXN_ID:$e,_1:"[unreachable]: assignement to an invalid lhs expression",Error:new Error};case 3:var O=b._0,nn=Yt(n,O.contents.newName);if(nn!==void 0){if(nn._1){var vn;return vn=nn.TAG===0?{TAG:12,_0:nn._0}:{TAG:10,_0:nn._0},y(n,h),g(G(n),vn)}throw{RE_EXN_ID:qe,_1:O.contents.name,Error:new Error}}throw{RE_EXN_ID:Jt,_1:O.contents.name,Error:new Error};case 17:var Fn=b._2,An=b._1,bn=Ht(n,En.typeOfExpr(An),Fn);if(bn.TAG===0){var kn=bn._0;if(kn.TAG===0){var mn=kn._0;if(!mn.mut)throw{RE_EXN_ID:qe,_1:Fn,Error:new Error};var Gn=Qt(n,An);if(Gn!==void 0)throw{RE_EXN_ID:qe,_1:Gn,Error:new Error};return mn.size>0?(y(n,An),y(n,h),g(G(n),{TAG:17,_0:0,_1:mn.offset})):void 0}throw{RE_EXN_ID:$e,_1:"cannot reassign "+Fn+" for type "+k(En.typeOfExpr(An)),Error:new Error}}throw bn._0;default:throw{RE_EXN_ID:$e,_1:"[unreachable]: assignement to an invalid lhs expression",Error:new Error}}case 5:var un=_o(n),L=Ur(n,un,v(r._1,function(z){return[z,!1]}),r._2);return g(G(n),{TAG:0,_0:L});case 6:var Un=r._3,pn=r._2.contents;xn.isZeroSizedType(En.typeOfExpr(Un))||(y(n,Un),Xr(n,pn.name,pn.ty,r._1)),e=r._4;continue;case 7:var Dn=_o(n);r._1.contents.newName=Dn.contents.name,Ur(n,Dn,v(r._2,function(z){return[z,!1]}),r._3),e=r._4;continue;case 8:var en=r._2,Nn=r._1,Rn=function(z){return function(gn){return $n(z,function(F){return y(n,F)}),g(G(n),{TAG:14,_0:gn})}}(en),ae=function(z,cn){return function(F){$n(cn,function(vo){return y(n,vo)});var xt=En.typeOfExpr(z),$t=Lr(xt),vt=Pn.getOrAddSignature(n.mod,$t);return y(n,z),g(G(n),{TAG:15,_0:vt,_1:0})}}(Nn,en),Wn=function(z){return function(gn,F){var xt=F!==void 0?tn([F],z):z;return $n(Oe(xt,gn),function($t){var vt=$t[1];if(!!(vt[2]&&lr(vt[1])&&Xt(Qt(n,$t[0]))))throw{RE_EXN_ID:qe,_1:vt[0],Error:new Error}})}}(en);switch(Nn.TAG|0){case 3:var Jn=Nn._0,Le=Yt(n,Jn.contents.newName);if(Le!==void 0)return ae(void 0);var oe=Mr(n,Jn.contents.newName);if(oe!==void 0)return Wn(oe[0].params,void 0),Rn(oe[1]);var ie=as(n,Jn.contents.newName);if(ie!==void 0)return Wn(ie[0].args,void 0),Rn(ie[1]);throw{RE_EXN_ID:ya,_1:Jn.contents.name,Error:new Error};case 17:var de=Nn._2,Kn=Nn._1,Yn;if(Kn.TAG===3){var Ze=Kn._0.contents.name,It=ee(Ze);if(It!==void 0){var We=Mr(n,Fr(Ze,de));if(We!==void 0)Yn=[!1,We[0],We[1]];else throw{RE_EXN_ID:$e,_1:'static function "'+de+'" does not exists on struct '+Ze,Error:new Error}}else Yn=[!0,void 0,void 0]}else Yn=[!0,void 0,void 0];var Dt=Yn[2],_t=Yn[1],Ce=Yn[0],Je;if(_t!==void 0)Je=_t;else{var Ke=Ht(n,En.typeOfExpr(Kn),de);if(Ke.TAG===0){var Nt=Ke._0;Je=Nt.TAG===0?void 0:Nt._0[0]}else throw Ke._0}return dn(Je,void 0,function(z,cn){return function(gn){var F=cn?z:void 0;return Wn(gn.params,F)}}(Kn,Ce)),Ce&&y(n,Kn),Dt!==void 0?Rn(Dt):ae(void 0);default:return ae(void 0)}case 9:var ft=r._2;return oo(n,r._3===1),$n(r._1,function(z){return fs(n,z)}),ft!==void 0&&y(n,ft),is(n);case 10:var Me=r._3,yt=ns(n.mod,r._0);return y(n,r._1),g(G(n),{TAG:4,_0:yt}),y(n,r._2),eu(Me,{TAG:0,_0:0})&&(g(G(n),0),y(n,Me)),g(G(n),1);case 11:return g(G(n),{TAG:7,_0:0}),g(G(n),{TAG:8,_0:0}),y(n,r._0),g(G(n),9),g(G(n),{TAG:5,_0:1}),y(n,r._1),g(G(n),{TAG:6,_0:0}),g(G(n),1),g(G(n),1);case 12:var Ye=r._0;return Ye!==void 0&&y(n,Ye),g(G(n),2);case 13:var C=r._2,Q=r._1;if(!Mn(Q,C))switch(Q.TAG|0){case 1:switch(Q._0){case"Array":switch(C.TAG|0){case 1:if(C._0==="Ptr"){var Ft=C._1;if(Ft.length!==1)throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error};var Te=Ft[0];switch(Te.TAG|0){case 1:if(Te._0==="u32"){if(Te._1.length!==0)throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}else throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error};break;case 0:case 2:throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}}else throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error};break;case 0:case 2:throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}break;case"Ptr":var st=Q._1;if(st.length!==1)throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error};var Ge=st[0];switch(Ge.TAG|0){case 1:if(Ge._0==="u32"){if(Ge._1.length!==0)throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error};switch(C.TAG|0){case 1:if(C._0==="u32"){if(C._1.length!==0)throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}else throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error};break;case 0:case 2:throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}}else throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error};break;case 0:case 2:throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}break;case"u32":if(Q._1.length!==0)throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error};switch(C.TAG|0){case 1:if(C._0==="Ptr"){if(C._1.length!==1)throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}else throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error};break;case 0:case 2:throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}break;default:throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}break;case 0:case 2:throw{RE_EXN_ID:ln,_1:Q,_2:C,Error:new Error}}e=r._0;continue;case 14:return $n(r._0,function(z){return y(n,z)});case 15:var f=r._1,p=yr(ee(r._0)),S=p.size;uo(n,S),$n(Oe(p.attributes,f),function(z){var cn=z[0],gn=cn.ty;if(cn.mut&&lr(gn)){var F=Qt(n,z[1][1]);if(F!==void 0)throw{RE_EXN_ID:qe,_1:F,Error:new Error}}if(he(cn.impl)&&xn.size(gn)>0)return g(G(n),{TAG:9,_0:n.stackTop.index})}),S>0&&g(G(n),{TAG:9,_0:n.stackTop.index});var D={contents:0};return $n(f,function(z){return function(cn){var gn=Or(n,cn[1],z.contents);z.contents=z.contents+gn|0}}(D));case 16:var M=r._1,X=xn.size(r._0);uo(n,X),g(G(n),{TAG:9,_0:n.stackTop.index});var I=Xr(n,fo("arrayAddr",n),qn,!0);if(M.TAG===0){g(G(n),{TAG:0,_0:0});var W=Xr(n,fo("addr",n),qn,!0);g(G(n),{TAG:7,_0:0}),g(G(n),{TAG:8,_0:0}),g(G(n),{TAG:11,_0:W}),g(G(n),{TAG:0,_0:X}),g(G(n),10),g(G(n),{TAG:5,_0:1}),g(G(n),{TAG:11,_0:I}),g(G(n),{TAG:11,_0:W}),g(G(n),4);var Bn=Or(n,M._0,0);g(G(n),{TAG:11,_0:W}),g(G(n),{TAG:0,_0:Bn}),g(G(n),4),g(G(n),{TAG:12,_0:W}),g(G(n),{TAG:6,_0:0}),g(G(n),1),g(G(n),1)}else{var ge={contents:0};$n(M._0,function(z,cn){return function(gn){g(G(n),{TAG:11,_0:z});var F=Or(n,gn,cn.contents);cn.contents=cn.contents+F|0}}(I,ge))}return g(G(n),{TAG:11,_0:I});case 17:var ke=r._1,He=Ht(n,En.typeOfExpr(ke),r._2);if(He.TAG===0){var Xe=He._0;if(Xe.TAG===0){var Qe=Xe._0;return xn.isZeroSizedType(Qe.ty)?void 0:(y(n,ke),g(G(n),{TAG:16,_0:0,_1:Qe.offset}))}var lt=Xe._0;if(lt[2]){var Rt=Qt(n,ke);if(Rt!==void 0)throw{RE_EXN_ID:qe,_1:Rt,Error:new Error}}return g(G(n),{TAG:0,_0:lt[1]})}throw He._0}}}function fs(n,e){var r=e._0;return y(n,r),$n(je(Cn.typeOf(r)),function(u){return g(G(n),3)})}function Ur(n,e,r,u){var a=v(r,function(i){var c=i[0];return[c.contents.name,c.contents.ty,i[1]||!lr(c.contents.ty)]}),t=Cr(e.contents.newName,a,Cn.typeOf(u)),o=n.funcs.push(t)-1|0;return Gt(n.funcStack,t),y(n,u),g(G(n),1),Tt(n.funcStack),o}function ss(n,e){var r=Cr("__isolated__",[],En.typeOfExpr(e));return Gt(n.funcStack,r),y(n,e),Tt(n.funcStack),r}function so(n,e){switch(e.TAG|0){case 0:Ur(n,e._0,e._1,e._2);return;case 1:var r=e._1,u=e._0;oo(n,!1);var a=ss(n,e._2),t=a.instructions;if(t.length===1){var o=t[0];if(typeof o!="number"&&o.TAG===0){io(n,u.contents.name,r?1:2,0,m(Et.Initializer.fromInstructions,[{TAG:0,_0:o._0}]));return}}Zo(n.globalsInitializer.instructions,"push",[t]);var i=io(n,u.contents.name,r?1:0,0,m(Et.Initializer.fromInstructions,[{TAG:0,_0:0}]));n.globalsInitializer.instructions.push({TAG:10,_0:i});return;case 2:return;case 3:return $n(e._1,function(h){return so(n,{TAG:0,_0:h[0],_1:h[1],_2:h[2]})});case 4:var c=e.name,_=Lr(c.contents.ty),l=Pn.getOrAddSignature(n.mod,_);Pn.addImport(n.mod,Yu.make("index",c.contents.name,{_0:l})),n.externFuncs.push({name:c.contents.name,args:v(e.args,function(h){var b=h[0];return[b.contents.name,b.contents.ty,h[1]]}),ret:e.ret});return}}function Or(n,e,r){var u=function(o){return y(n,e),g(G(n),{TAG:17,_0:0,_1:r}),o},a=Cn.typeOf(e);switch(a.TAG|0){case 0:break;case 1:var t=0;switch(a._0){case"()":if(a._1.length===0)return 0;break;case"Fun":return u(4);case"Ptr":if(a._1.length===1)return u(4);break;case"bool":case"u32":t=2;break}if(t===2&&a._1.length===0)return u(4);break;case 2:return $r(a._0),u(4)}throw{RE_EXN_ID:$e,_1:"cannot store "+k(a)+" in the shadow stack",Error:new Error}}function ls(n){var e={mod:Pn.make(void 0),funcs:[],scopeDepth:0,funcStack:or(),globals:Yr(1),globalsInitializer:Cr("__initGlobals__",[],Ne),stackTop:ro("__STACK_TOP__",1,0,0,m(Et.Initializer.fromInstructions,[{TAG:0,_0:65535}])),blockStack:or(),externFuncs:[],options:{useBulkMemoryInstructions:!1}};ur(e.globals,e.stackTop.name,e.stackTop);try{$n(n,function(o){return so(e,o)}),Pn.addMemory(e.mod,Bu.make(fr.make(64,void 0))),$n(jo(nu(e.globals),function(o,i){return o.index-i.index|0}),function(o){var i=us(o);if(i!==void 0)return Pn.addGlobal(e.mod,i)});var r=Ru.fromFuncRefs(0,Br(e.funcs,function(o,i){return o}));Pn.addElement(e.mod,r),Pn.addTable(e.mod,bu.make(0,fr.makeExact(e.funcs.length)));var u=e.funcs.length,a=e.globalsInitializer.instructions.length===0;return a||(e.globalsInitializer.instructions.push(1),e.funcs.push(e.globalsInitializer)),$n(e.funcs,function(o){o.name==="main"&&!a&&o.instructions.unshift({TAG:14,_0:u});var i=rs(o);Pn.addExportedFunc(e.mod,o.name,i[1],i[2])}),{TAG:0,_0:e.mod}}catch(o){var t=gt(o);return{TAG:1,_0:kt(t)}}}function vs(n){try{return N(Wt(n),function(r){var u=v(r,Fe.from);return N(Qa(u),function(a){var t=a[1];wa(t);var o=v(u,function(i){return Fe.subst(t,i)});return K(ls(o),function(i){var c=Pn.encodeAsUint8Array(i);return[i,c]})})})}catch(r){var e=gt(r);return{TAG:1,_0:kt(e)}}}function ds(n){try{var e=Wt(n);return e.TAG===0?{TAG:0,_0:A(e._0,`

`,function(u){return i0.show(u)})}:{TAG:1,_0:e._0}}catch(u){var r=gt(u);return{TAG:1,_0:kt(r)}}}function Ts(n){try{var e=Wt(n);if(e.TAG!==0)return{TAG:1,_0:e._0};var r=v(e._0,Fe.from);return{TAG:0,_0:A(r,`

`,function(a){return Fe.show(void 0,a)})}}catch(a){var u=gt(a);return{TAG:1,_0:kt(u)}}}function Gs(n){try{var e=Wt(n);if(e.TAG!==0)return{TAG:1,_0:e._0};var r=v(e._0,Fe.from),u=Qa(r);if(u.TAG!==0)return{TAG:1,_0:u._0};var a=u._0[1];wa(a);var t=v(r,function(i){return Fe.subst(a,i)});return{TAG:0,_0:A(t,`

`,function(i){return Fe.show(void 0,i)})}}catch(i){var o=gt(i);return{TAG:1,_0:kt(o)}}}var gs={debugAst:ds,debugCoreAst:Ts,debugTypes:Gs},hs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compile:vs,Debug:gs});const Vr={"0":"Else","1":"End","2":"Return","3":"Drop","4":"AddI32","5":"SubI32","6":"MulI32","7":"DivI32Unsigned","8":"DivI32Signed","9":"EqzI32","10":"EqI32","11":"EqI64","12":"EqF32","13":"EqF64","14":"NeI32","15":"NeI64","16":"NeF32","17":"NeF64","18":"LeI32Signed","19":"LeI32Unsigned","20":"LeI64Signed","21":"LeI64Unsigned","22":"LeF32","23":"LeF64","24":"GeI32Signed","25":"GeI32Unsigned","26":"GeI64Signed","27":"GeI64Unsigned","28":"GeF32","29":"GeF64","30":"LtI32Signed","31":"LtI32Unsigned","32":"LtI64Signed","33":"LtI64Unsigned","34":"LtF32","35":"LtF64","36":"GtI32Signed","37":"GtI32Unsigned","38":"GtI64Signed","39":"GtI64Unsigned","40":"GtF32","41":"GtF64","42":"RemI32Signed","43":"RemI32Unsigned","44":"AndI32","45":"OrI32","46":"ShlI32","47":"ShrI32Signed","48":"ShrI32Unsigned"},$={"0":"I32","1":"I64","2":"F32","3":"F64"},Es={"0":"FuncRef","1":"ExternRef"},ws={"0":"Func","1":"Table","2":"Memory","3":"Global"},be={"0":"Void"},As={"0":"Passive"},ms=hs,lo=function(n){const e=ms.compile(n);return e.TAG===0?{tag:"Ok",value:[{typeSection:e._0[0].typeSection.map(function(u){return[u._0.map(function(t){return $[t]}),u._1.map(function(t){return $[t]})]}),importSection:e._0[0].importSection.map(function(u){return{moduleName:u.moduleName,entityName:u.entityName,desc:{tag:"Func",value:u.desc._0}}}),funcSection:e._0[0].funcSection,tableSection:e._0[0].tableSection.map(function(u){return[Es[u[0]],u[1]]}),memorySection:e._0[0].memorySection,globalSection:e._0[0].globalSection.map(function(u){return[$[u[0]],u[1],u[2].map(function(t){return typeof t=="object"?t.TAG===0?{tag:"ConstI32",value:t._0}:t.TAG===1?{tag:"ConstI64",value:t._0}:t.TAG===2?{tag:"ConstF32",value:t._0}:t.TAG===3?{tag:"ConstF64",value:t._0}:t.TAG===4?{tag:"If",value:typeof t._0=="object"?t._0.TAG===0?{tag:"TypeValue",value:$[t._0._0]}:{tag:"TypeIndex",value:[t._0._0,[t._0._1[0].map(function(i){return $[i]}),t._0._1[1].map(function(i){return $[i]})]]}:be[t._0]}:t.TAG===5?{tag:"BranchIf",value:t._0}:t.TAG===6?{tag:"Branch",value:t._0}:t.TAG===7?{tag:"Block",value:typeof t._0=="object"?t._0.TAG===0?{tag:"TypeValue",value:$[t._0._0]}:{tag:"TypeIndex",value:[t._0._0,[t._0._1[0].map(function(i){return $[i]}),t._0._1[1].map(function(i){return $[i]})]]}:be[t._0]}:t.TAG===8?{tag:"Loop",value:typeof t._0=="object"?t._0.TAG===0?{tag:"TypeValue",value:$[t._0._0]}:{tag:"TypeIndex",value:[t._0._0,[t._0._1[0].map(function(i){return $[i]}),t._0._1[1].map(function(i){return $[i]})]]}:be[t._0]}:t.TAG===9?{tag:"GetGlobal",value:t._0}:t.TAG===10?{tag:"SetGlobal",value:t._0}:t.TAG===11?{tag:"GetLocal",value:t._0}:t.TAG===12?{tag:"SetLocal",value:t._0}:t.TAG===13?{tag:"TeeLocal",value:t._0}:t.TAG===14?{tag:"Call",value:t._0}:t.TAG===15?{tag:"CallIndirect",value:[t._0,t._1]}:t.TAG===16?{tag:"LoadI32",value:[t._0,t._1]}:t.TAG===17?{tag:"StoreI32",value:[t._0,t._1]}:t.TAG===18?{tag:"InitMemory",value:t._0}:{tag:"DropData",value:t._0}:Vr[t]})]}),exportSection:e._0[0].exportSection.map(function(u){return{name:u.name,kind:ws[u.kind],index:u.index}}),elementSection:e._0[0].elementSection,codeSection:e._0[0].codeSection.map(function(u){return[u[0].map(function(t){return[t[0],$[t[1]]]}),u[1].map(function(t){return typeof t=="object"?t.TAG===0?{tag:"ConstI32",value:t._0}:t.TAG===1?{tag:"ConstI64",value:t._0}:t.TAG===2?{tag:"ConstF32",value:t._0}:t.TAG===3?{tag:"ConstF64",value:t._0}:t.TAG===4?{tag:"If",value:typeof t._0=="object"?t._0.TAG===0?{tag:"TypeValue",value:$[t._0._0]}:{tag:"TypeIndex",value:[t._0._0,[t._0._1[0].map(function(i){return $[i]}),t._0._1[1].map(function(i){return $[i]})]]}:be[t._0]}:t.TAG===5?{tag:"BranchIf",value:t._0}:t.TAG===6?{tag:"Branch",value:t._0}:t.TAG===7?{tag:"Block",value:typeof t._0=="object"?t._0.TAG===0?{tag:"TypeValue",value:$[t._0._0]}:{tag:"TypeIndex",value:[t._0._0,[t._0._1[0].map(function(i){return $[i]}),t._0._1[1].map(function(i){return $[i]})]]}:be[t._0]}:t.TAG===8?{tag:"Loop",value:typeof t._0=="object"?t._0.TAG===0?{tag:"TypeValue",value:$[t._0._0]}:{tag:"TypeIndex",value:[t._0._0,[t._0._1[0].map(function(i){return $[i]}),t._0._1[1].map(function(i){return $[i]})]]}:be[t._0]}:t.TAG===9?{tag:"GetGlobal",value:t._0}:t.TAG===10?{tag:"SetGlobal",value:t._0}:t.TAG===11?{tag:"GetLocal",value:t._0}:t.TAG===12?{tag:"SetLocal",value:t._0}:t.TAG===13?{tag:"TeeLocal",value:t._0}:t.TAG===14?{tag:"Call",value:t._0}:t.TAG===15?{tag:"CallIndirect",value:[t._0,t._1]}:t.TAG===16?{tag:"LoadI32",value:[t._0,t._1]}:t.TAG===17?{tag:"StoreI32",value:[t._0,t._1]}:t.TAG===18?{tag:"InitMemory",value:t._0}:{tag:"DropData",value:t._0}:Vr[t]})]}),dataSection:e._0[0].dataSection.map(function(u){return{init:u.init,mode:typeof u.mode=="object"?[u.mode._0,u.mode._1]:As[u.mode]}}),funcs:e._0[0].funcs.map(function(u){return[u[0],[u[1]._0.map(function(t){return $[t]}),u[1]._1.map(function(t){return $[t]})],[u[2][0].map(function(t){return[t[0],$[t[1]]]}),u[2][1].map(function(t){return typeof t=="object"?t.TAG===0?{tag:"ConstI32",value:t._0}:t.TAG===1?{tag:"ConstI64",value:t._0}:t.TAG===2?{tag:"ConstF32",value:t._0}:t.TAG===3?{tag:"ConstF64",value:t._0}:t.TAG===4?{tag:"If",value:typeof t._0=="object"?t._0.TAG===0?{tag:"TypeValue",value:$[t._0._0]}:{tag:"TypeIndex",value:[t._0._0,[t._0._1[0].map(function(i){return $[i]}),t._0._1[1].map(function(i){return $[i]})]]}:be[t._0]}:t.TAG===5?{tag:"BranchIf",value:t._0}:t.TAG===6?{tag:"Branch",value:t._0}:t.TAG===7?{tag:"Block",value:typeof t._0=="object"?t._0.TAG===0?{tag:"TypeValue",value:$[t._0._0]}:{tag:"TypeIndex",value:[t._0._0,[t._0._1[0].map(function(i){return $[i]}),t._0._1[1].map(function(i){return $[i]})]]}:be[t._0]}:t.TAG===8?{tag:"Loop",value:typeof t._0=="object"?t._0.TAG===0?{tag:"TypeValue",value:$[t._0._0]}:{tag:"TypeIndex",value:[t._0._0,[t._0._1[0].map(function(i){return $[i]}),t._0._1[1].map(function(i){return $[i]})]]}:be[t._0]}:t.TAG===9?{tag:"GetGlobal",value:t._0}:t.TAG===10?{tag:"SetGlobal",value:t._0}:t.TAG===11?{tag:"GetLocal",value:t._0}:t.TAG===12?{tag:"SetLocal",value:t._0}:t.TAG===13?{tag:"TeeLocal",value:t._0}:t.TAG===14?{tag:"Call",value:t._0}:t.TAG===15?{tag:"CallIndirect",value:[t._0,t._1]}:t.TAG===16?{tag:"LoadI32",value:[t._0,t._1]}:t.TAG===17?{tag:"StoreI32",value:[t._0,t._1]}:t.TAG===18?{tag:"InitMemory",value:t._0}:{tag:"DropData",value:t._0}:Vr[t]})]]})},e._0[1]]}:{tag:"Error",value:e._0}};var ps=`
let SIZEOF_U32 = 4;

struct Array {
  start: Ptr<u32>,
  mut length: u32,
}

impl Array {
  fn read(self, n) unsafe {
    *(((self.start as u32) + n * SIZEOF_U32) as Ptr<u32>)
  }

  fn write(mut self, n, val) unsafe {
    *(((self.start as u32) + n * SIZEOF_U32) as Ptr<u32>) = val;
  }

  fn push(mut self, val) {
    self.write(self.length, val);
    self.length += 1;
  }
}

struct Sieve {
  mut primes: Array,
  mut current: u32
}

impl Sieve {
  fn clear(mut self) {
    self.primes.length = 0;
    // 2 is the first prime
    self.primes.push(2);
    self.current = 1;
  }

  fn isPrime(mut self, n) {
    mut i = 0;
    mut p = self.primes.read(i);

    while p * p <= n {
      if n % p == 0 { return false; }
      i += 1;
      p = self.primes.read(i);
    }

    // n is prime
    // add it to the sieve
    self.primes.push(n);

    true
  }

  fn nextPrime(mut self) {
    self.current += 2;

    while !self.isPrime(self.current) {
      self.current += 2;
    }

    self.current
  }

  // count the prime numbers <= m
  fn countUpTo(mut self, m) {
    self.clear();

    while self.current <= m {
      self.nextPrime();
    }

    self.primes.length - 1
  }
}

// right after the shadow stack
let PRIMES_START = 64 * 1024;

fn main() {
  mut sieve = Sieve {
    primes: Array {
      start: PRIMES_START as Ptr<u32>,
      length: 0
    },
    current: 0
  };

  sieve.countUpTo(10000000)
}
`,Ss=`
fn fact(n) {
  if n == 0 { 1 } else { n * fact(n - 1) }
}

fn main() {
  fact(11)
}`,bs=`
fn fib(n) {
  let fib_aux = (n, a, b) -> {
    if n == 0 { return a; }
    if n == 1 { return b; }
    fib_aux(n - 1, b, a + b)
  };

  fib_aux(n, 0, 1)
}

fn main() {
  fib(83)
}`,ks=`
let SIZEOF_U32 = 4;

fn read_u32(addr) unsafe {
  *((addr * SIZEOF_U32) as Ptr<u32>)
}

fn write_u32(addr, val) unsafe {
  *((addr * SIZEOF_U32) as Ptr<u32>) = val;
}

fn main() {
  let square = n -> n * n;

  mut i = 0;
  while i < 100 {
    write_u32(i, square(i));
    i += 1;
  }

  read_u32(42) // 1764
}`,Ds=`
fn isEven(n) {
  n & 1 == 0
}

fn isPrime(n) {
  if n < 2 { return false; }
  if n == 2 { return true; }
  if isEven(n) { return false; }

  mut i = 3;

  while i * i <= n {
    if n % i == 0 { return false; }
    i += 2;
  }

  true
}

fn countPrimesLessThan(m) {
  mut i = m;
  mut count = 0;

  while i > 1 {
    if isPrime(i) {
      count += 1;
    }

    i -= 1;
  }

  count
}

fn main() {
  countPrimesLessThan(1000000)
}`,Ns=`
struct MinMax {
  mut min: u32,
  mut max: u32
}

impl MinMax {
  fn reset(mut self) {
    self.min = 0;
    self.max = 0;
  }

  fn resetStatic(mut m) {
    m.reset();
  }
}

fn main() {
  mut m = MinMax {
    min: 17,
    max: 22
  };

  MinMax.resetStatic(m);
  
  m.min + m.max == 0
}`,Fs=`
fn main() {
  let twice = (f, x) -> f(f(x));
  
  twice(n -> n * n, 7)
}`,Rs=`
struct BumpAllocator {
  mut head: u32
}

impl BumpAllocator {
  fn allocate(mut self, bytes) {
    let addr = self.head as Ptr<u32>;
    self.head = self.head + bytes;
    addr
  }
  
  // do nothing!
  fn free(mut self, addr) { }
}

mut allocator = BumpAllocator { head: 64 * 1024 };

let SIZEOF_U32 = 4;

struct Vec {
  mut start: Ptr<u32>,
  mut length: u32,
  mut capacity: u32 
}

impl Vec {
  fn read(self, index) unsafe {
    *(((self.start as u32) + (index * SIZEOF_U32)) as Ptr<u32>)
  }

  fn write(mut self, index, value) unsafe {
    *(((self.start as u32) + (index * SIZEOF_U32)) as Ptr<u32>) = value;
  }

  fn grow(mut self) unsafe {
    let newCap = if self.capacity == 0 { 8 } else { self.capacity * 2 };
    let newStart = allocator.allocate(newCap * SIZEOF_U32);

    // copy the data from the old array to the new one
    mut i = 0;
    while i < self.length {
      *(((newStart as u32) + (i * SIZEOF_U32)) as Ptr<u32>) = self.read(i);
      i += 1;
    }

    allocator.free(self.start);
    self.start = newStart;
    self.capacity = newCap;
  }

  fn push(mut self, val) {
    if self.length + 1 > self.capacity {
      self.grow();
    }

    self.write(self.length, val);
    self.length += 1;
  }

  fn pop(mut self) {
    if self.length > 0 {
      self.length -= 1;
      self.read(self.length)
    } else {
      // until we have Option<T>
      4294967295 // -1
    }
  }
}

fn main() {
  mut vec = Vec {
    start: 0 as Ptr<u32>,
    length: 0,
    capacity: 0
  };

  mut i = 0;
  while i < 1000 {
    vec.push(i);
    i += 1;
  }

  (vec.length, vec.capacity, vec.read(723))
}`,$s=`
fn isEven(n) {
  n & 1 == 0
}

fn nextCollatz(n) {
  if isEven(n) { n / 2 } else { 3 * n + 1 }
}

fn collatzLen(n) {
  mut len = 1;
  
  while n != 1 {
    n = nextCollatz(n); 
    len += 1;
  }
  
  len
}

fn pb14() {
  mut longest = 0;
  mut longestIndex = 0;

  mut i = 1;
  while i <= 1000000 {
    let len = collatzLen(i);
    if len > longest {
      longest = len;
      longestIndex = i;
    }

    i += 1;
  }
  
  (longest, longestIndex)
}

fn main() {
  pb14()
}`,Ls=`
fn digitsSquareSum(n) {
  let square = n -> n * n;
  mut sum = 0;

  while n > 0 {
    sum += square(n % 10);
    n /= 10;
  }

  sum
}

fn reaches89(n) {
  while n != 1 {
    if n == 89 { return true; }
    n = digitsSquareSum(n);
  }

  false
}

fn main() {
  mut i = 1;
  mut count = 0;
  while i < 10000000 {
    if reaches89(i) {
      count += 1;
    }

    i += 1;
  }

  count
}`,Cs=`
extern fn log(n: u32) -> ();
extern fn expectEqual(value: u32, expected: u32) -> ();

fn main() {
  mut i = 0;
  
  while i <= 10 {
    expectEqual(i, i);
    i += 1;
  }
}`;const Ms={"Prime sieve":ps,Factorial:Ss,Fibonacci:bs,Pointers:ks,Primes:Ds,Structs:Ns,"Lambda (kind of)":Fs,Vector:Rs,"External functions":Cs,"Project Euler 14":$s,"Project Euler 92":Ls},Xs=async n=>{const e=await WebAssembly.compile(n),r=await WebAssembly.instantiate(e,{index:{log:console.log,expectEqual:(u,a)=>{if(u!==a)throw new Error(`[expectEqual] expected ${u}, got: ${a}`)}}});if("main"in r.exports){console.time("run");const u=r.exports.main();return console.timeEnd("run"),u}else return"Error: main function not found, exported functions are: "+Object.keys(r.exports).join(", ")},Us={Run:async(n,e)=>{e("running...");try{const r=lo(n);if(r.tag==="Ok"){const u=await Xs(r.value[1]);e(`${u}`)}else e(r.value)}catch(r){e(`${r}`)}},Disassemble:(n,e)=>{try{const r=lo(n);if(r.tag==="Ok"){const[u]=r.value;e(Dc(u))}else e(r.value)}catch(r){e(`${r}`)}}},Os=()=>Ut.createElement(Jo,{actions:Us,samples:Ms,aceMode:"rust"});Ko.render(Ut.createElement(Ut.StrictMode,null,Ut.createElement(Os,null)),document.getElementById("root"));
